<?xml version="1.0" encoding="utf-8"?>
<Sim4SysMLModel xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Name>NewSim4SysML</Name>
  <Id>668a75af-8e52-4aa0-b26e-2c181d9235f4</Id>
  <Structure xsi:type="Sim4SysMLStructure">
    <Id>3c570bb4-cef6-4c37-8bb4-c070902e49c3</Id>
    <Types>
      <anyType xsi:type="SimType">
        <Name>VCSsim</Name>
        <Id>df6012c6-4e4c-4d8f-a643-d83c2b92a347</Id>
        <Structure xsi:type="SimTypeStructure">
          <Id>2d1a7f3d-a45a-4c86-a85f-a7b5ce96c5a7</Id>
          <Types>
            <anyType xsi:type="UserType">
              <Name>Operator</Name>
              <Id>40d7f45d-db1d-4658-ace8-dfa6c63a2dcf</Id>
              <Structure xsi:type="UserTypeStructure">
                <Id>c9b10f48-dafc-4b6b-a977-58d547d12810</Id>
                <Types>
                  <anyType xsi:type="ComponentType">
                    <Name>Behavior</Name>
                    <Id>292c6951-bb1a-4e3f-afbc-ab6cccdda8a7</Id>
                    <Structure xsi:type="ComponentTypeStructure">
                      <Id>a860e7ff-60f8-4518-baa7-0df3db74ccd5</Id>
                      <Types>
                        <anyType xsi:type="MethodType">
                          <Name>PrepareRadio</Name>
                          <Id>0a135e82-23f3-4c62-becb-eb070aaad0ef</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>0d5d49c7-7419-4329-8e1e-1a93ab22cd5f</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>9a866754-497c-44a6-88d8-1abd94dc391b</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>Behavior.DesiredOverallStatus = 0;
Behavior.IsInDesiredOverallStatus = false;

DomainProAnalyst.Instance.Report("Operator.Behavior.PrepareRadio triggered");

foreach(Simulation.VCSsimContext.OperatorContext.POS_APP app in Behavior.Operator.POS_APPList)
{
	app.AssignRadio(false);
}
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return Behavior.Operator.ActionDuration;

</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>140</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>23</X>
                            <Y>34</Y>
                          </Location>
                          <DisplayName>PrepareRadio</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>ListenToRadio</Name>
                          <Id>72f12095-c622-4218-9c30-8478d9d5832e</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>6f6bc04c-eee8-496e-892e-abb40657d24a</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>dbfcdf57-54c8-420b-be0b-1ea348e80ab5</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>Behavior.DesiredOverallStatus = 1;
Behavior.IsInDesiredOverallStatus = false;

DomainProAnalyst.Instance.Report("Operator.Behavior.ListenToRadio triggered");

foreach(Simulation.VCSsimContext.OperatorContext.POS_APP app in Behavior.Operator.POS_APPList)
{
	app.ReceiveRadio(false);
}</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return Behavior.Operator.ActionDuration;


</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>140</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>197</X>
                            <Y>33</Y>
                          </Location>
                          <DisplayName>ListenToRadio</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>TriggerBehavior</Name>
                          <Id>3ce05ab7-17ec-4bf2-9b54-1c607e1ba336</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>9bf409df-2fe3-4331-9be9-ed4e20d3736d</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>9d151d7c-6daa-4259-a076-582d2f4aa50e</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return 1+Behavior.Operator.ActionDuration*Random.Uniform();
</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>140</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>95</X>
                            <Y>109</Y>
                          </Location>
                          <DisplayName>TriggerBehavior</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="SimMetricType">
                          <Name>StartedAssign</Name>
                          <Id>c6d1e813-6418-44a6-83ae-0e40d76fdb8a</Id>
                          <Structure xsi:type="SimMetricTypeStructure">
                            <Id>046dc80b-a6d6-40c6-8bf6-e41271da6a84</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>62f52097-daa3-43c9-816b-2d77d7cf5421</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>100</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>60</X>
                            <Y>189</Y>
                          </Location>
                          <DisplayName>StartedAssign</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16777216</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>double</ImplementationType>
                          <InitialValue>0.0</InitialValue>
                        </anyType>
                        <anyType xsi:type="SimMetricType">
                          <Name>CompletedAssign</Name>
                          <Id>2edc2709-81d5-41fb-b0f4-4ca9854dbf17</Id>
                          <Structure xsi:type="SimMetricTypeStructure">
                            <Id>1e439e4d-1b3a-4fdd-b049-501d2a46af6d</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>82336077-174a-4f53-9385-cef83b561742</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>107</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>57</X>
                            <Y>219</Y>
                          </Location>
                          <DisplayName>CompletedAssign</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16777216</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>double</ImplementationType>
                          <InitialValue>0.0</InitialValue>
                        </anyType>
                        <anyType xsi:type="SimMetricType">
                          <Name>DesiredOverallStatus</Name>
                          <Id>2bd54f5c-a041-4b0d-9d2c-3e50eb12e161</Id>
                          <Structure xsi:type="SimMetricTypeStructure">
                            <Id>bf3302a2-3e16-4535-806b-d7d5fc4a26e4</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>e3b0d784-a9fa-41d8-89fa-2c072a3f4ac3</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>150</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>183</X>
                            <Y>187</Y>
                          </Location>
                          <DisplayName>DesiredOverallStatus</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16777216</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>int</ImplementationType>
                          <InitialValue>-1</InitialValue>
                        </anyType>
                        <anyType xsi:type="SimMetricType">
                          <Name>IsInDesiredOverallStatus</Name>
                          <Id>f0daf022-a53e-4835-9606-1032a2a1e3cf</Id>
                          <Structure xsi:type="SimMetricTypeStructure">
                            <Id>91357926-c7b3-42f7-b30c-1f04adf681d9</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>c546b0a8-41c2-4e9c-8473-70494a12aeed</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>147</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>184</X>
                            <Y>219</Y>
                          </Location>
                          <DisplayName>IsInDesiredOverallStatus</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16777216</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>bool</ImplementationType>
                          <InitialValue>false</InitialValue>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence</Name>
                          <Id>ac05949a-9678-4217-960f-176539f95db7</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>1f213f5d-21f8-4e0e-8e7c-6ef0086fc098</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>61c78ec7-b1da-47cb-848b-9b4983a4d26b</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return true;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>15</Width>
                            <Height>49</Height>
                          </Size>
                          <Location>
                            <X>80</X>
                            <Y>84</Y>
                          </Location>
                          <DisplayName>NewMethodSequence</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>0</X>
                                <Y>24</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>57</X>
                                <Y>50</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>3ce05ab7-17ec-4bf2-9b54-1c607e1ba336</Role1Id>
                          <Role2Id>0a135e82-23f3-4c62-becb-eb070aaad0ef</Role2Id>
                        </anyType>
                      </Types>
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>b2a7ed9d-6815-4942-a73a-55dac38980fc</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Startup</Name>
                          <String>// establish POS APPs for each channelGroup, for each ChannelGroup, create Channel and link to Radio

int pos = Operator.VCSsim.OperatorList.IndexOf(Operator);
Operator.DIFRef = Operator.VCSsim.VCSList[0].DIFList[pos];

List&lt;int&gt; configs = Operator.VCSsim.ChannelGroupAssignment[pos];
foreach(int cPos in configs)
{
	ChannelGroup cg = Operator.VCSsim.Create("ChannelGroup") as ChannelGroup;
	POS_APP pa = Operator.Create("POS_APP") as POS_APP;
	pa.ChannelGroupRef = cg;
	Operator.ChannelGroupRefs.Add(cg, pa);	

	ChannelGroupConfig cgc = Operator.VCSsim.ChannelGroupConfigList[cPos];
	foreach(int mCh in cgc.MainChannels)
	{
		Channel ch = Operator.VCSsim.Create("Channel") as Channel;
		cg.MainChannelRefs.Add(ch);
		ch.RadioRef = Operator.VCSsim.RadioList[mCh];
	}
//	foreach (int bCh in cgc.BackupChannels)
//	{
//		ChannelView cv = sim.Create("ChannelView") as ChannelView;
//	}
}
string idsCsv = string.Join(", ", configs.ToArray());
DomainProAnalyst.Instance.Report("Operator Initialized with POS_APPs=ChannelGroups: "+idsCsv);
</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>373</Width>
                      <Height>171</Height>
                    </Size>
                    <Location>
                      <X>6</X>
                      <Y>488</Y>
                    </Location>
                    <DisplayName>Behavior</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>10</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16728064</Argb>
                      </BorderColor>
                      <BorderWidth>3</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="ComponentType">
                    <Name>POS_APP</Name>
                    <Id>660cc8ff-2495-45e3-a6b3-bac02c04fce2</Id>
                    <Structure xsi:type="ComponentTypeStructure">
                      <Id>b6c5bfa0-304e-4ef7-956c-64d68566df2c</Id>
                      <Types>
                        <anyType xsi:type="MethodType">
                          <Name>AssignRadio</Name>
                          <Id>a71c7982-f965-48c1-81e0-ed59e6399853</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>27602a6c-0b58-484c-a2fe-6497d1cb2f9b</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>ea1cce48-a5a4-461f-a2a0-1ef0034dc86c</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>// for each channel in channelgroup dispatch an OpRequest
// POS APP exists for each Channelgroup
POS_APP.ChannelGroupRef.Status = POS_APP.ChannelGroupRef.Status;

foreach(Channel channel in POS_APP.ChannelGroupRef.MainChannelRefs)
{
	OpRequest req = POS_APP.Operator.VCSsim.Create("OpRequest") as OpRequest;
	req.OpSender = POS_APP;
	req.ChannelRef = channel;
	req.ReqAction = "ASSIGN";		
	req.Status = "OPEN";
	Simulation.VCSsimContext.RAIFContext.RAIF_APP raif = channel.RadioRef.RAIFRef.RAIF_APPList[0];
	if (raif !=null)
	{
		raif.OpRequestQueue.Enqueue(req);
	}	
	else
	{
		DomainProAnalyst.Instance.Report("POS_APP AssignRadio - channel.RAIFRef == null");
	}
}
;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return POS_APP.MethodDuration;

</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>140</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>13</X>
                            <Y>32</Y>
                          </Location>
                          <DisplayName>AssignRadio</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>ChannelUpdated</Name>
                          <Id>7922232a-2ec3-444f-a8ec-63a6a8eda66f</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>26d4ec43-e541-453e-8302-ee129317429a</Id>
                            <Types>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestRef</Name>
                                <Id>035ae2bf-75e1-4aa1-8e7e-8d56e92e9e4a</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>16f66d47-544e-4cb5-8b48-698d8db409d3</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>c5c5f4af-44e3-46ed-95f4-b2ffc8f23feb</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>21</X>
                                  <Y>20</Y>
                                </Location>
                                <DisplayName>OpRequestRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>OpRequest</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                              <anyType xsi:type="VariableType">
                                <Name>desiredStatusAchieved</Name>
                                <Id>40e48e2f-d5f1-4a0e-bc84-f80248cbde19</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>ff583a34-3ada-443d-bb10-04b0d28292f5</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>743cf2fa-bb21-4cb5-8da9-90584b714e4f</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>132</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>8</X>
                                  <Y>47</Y>
                                </Location>
                                <DisplayName>desiredStatusAchieved</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>bool</ImplementationType>
                                <InitialValue>false</InitialValue>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>be3b2bce-3bcd-45d7-b5ac-dce94b02dd98</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>// update channel view and channel group view
if (OpRequestRef.Status == "SUCCESS")
{
	if (OpRequestRef.ReqAction.Equals("ASSIGN"))
	{
		OpRequestRef.ChannelRef.StatusView = 0;
		// check for channelgroup changes
		int cgStatus = 1000;
		foreach(Channel channel in POS_APP.ChannelGroupRef.MainChannelRefs)
		{
			if (channel.StatusView &lt; cgStatus) 
				cgStatus = channel.StatusView;
		}
		if (POS_APP.ChannelGroupRef.Status != cgStatus)
		{
			POS_APP.ChannelGroupRef.Status = cgStatus;
			// single ChannelGroup changed, thus maybe overall status changed
			int desiredStatus = POS_APP.Operator.BehaviorList[0].DesiredOverallStatus;
			bool statusOk = true;
			foreach(ChannelGroup cg in POS_APP.Operator.ChannelGroupRefs.Keys)
			{
				if (cg.Status != desiredStatus)
					statusOk = false;
			}			
			if (statusOk)
			{	
				POS_APP.Operator.BehaviorList[0].DesiredOverallStatus = desiredStatus;
				desiredStatusAchieved = true;
			}
			POS_APP.Operator.BehaviorList[0].IsInDesiredOverallStatus = statusOk;
		}
	}
	else if (OpRequestRef.ReqAction.Equals("RX"))
	{
		OpRequestRef.ChannelRef.StatusView = 1;
// check for channelgroup changes
		int cgStatus = 1000;
		foreach(Channel channel in POS_APP.ChannelGroupRef.MainChannelRefs)
		{
			if (channel.StatusView &lt; cgStatus) 
				cgStatus = channel.StatusView;
		}
		if (POS_APP.ChannelGroupRef.Status != cgStatus)
		{
			POS_APP.ChannelGroupRef.Status = cgStatus;
			// single ChannelGroup changed, thus maybe overall status changed
			int desiredStatus = POS_APP.Operator.BehaviorList[0].DesiredOverallStatus;
			bool statusOk = true;
			foreach(ChannelGroup cg in POS_APP.Operator.ChannelGroupRefs.Keys)
			{
				if (cg.Status != desiredStatus)
					statusOk = false;
			}			
			if (statusOk)
			{	
				POS_APP.Operator.BehaviorList[0].DesiredOverallStatus = desiredStatus;
				//desiredStatusAchieved = true;
			}
			POS_APP.Operator.BehaviorList[0].IsInDesiredOverallStatus = statusOk;
		}
	}
	else
	{
		DomainProAnalyst.Instance.Report("POS_APP ChannelUpdated - unknown ReqAction");
	}

}

</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return POS_APP.MethodDuration;
</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>142</Width>
                            <Height>84</Height>
                          </Size>
                          <Location>
                            <X>186</X>
                            <Y>105</Y>
                          </Location>
                          <DisplayName>ChannelUpdated</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>ReceiveRadio</Name>
                          <Id>240973fa-6e05-4ac0-b45b-5d32f593b8da</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>5b71e2f1-6e29-4e1c-9e1b-020dfb2e3f95</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>aec696e2-7727-44c6-8955-83e6255bb8be</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>// dispatch subscribe request to VCS for all channels within group
Simulation.VCSsimContext.VCSContext.DIFContext.DIF_APP dif = POS_APP.Operator.DIFRef.DIF_APPList[0];
if (dif == null)
{
	DomainProAnalyst.Instance.Report("POS_APP ReceiveRadio - operator.DIFRef == null");
}

foreach(Channel channel in POS_APP.ChannelGroupRef.MainChannelRefs)
{
	OpRequest req = POS_APP.Operator.VCSsim.Create("OpRequest") as OpRequest;
	req.OpSender = POS_APP;
	req.ChannelRef = channel;
	req.ReqAction = "RX";		
	req.Status = "OPEN";
	if (dif !=null)
	{
		dif.OpRequestQueue.Enqueue(req);
	}
}
;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return POS_APP.MethodDuration;

</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>140</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>176</X>
                            <Y>30</Y>
                          </Location>
                          <DisplayName>ReceiveRadio</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="VariableType">
                          <Name>ChannelGroupRef</Name>
                          <Id>f57ba5dd-285c-473a-8856-9e832cefa243</Id>
                          <Structure xsi:type="VariableTypeStructure">
                            <Id>9b186d67-78f1-45cc-8f11-f796b54f5359</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>badbb9bb-900e-4da8-883c-5327c398ff2e</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>114</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>12</X>
                            <Y>179</Y>
                          </Location>
                          <DisplayName>ChannelGroupRef</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-4194304</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>ChannelGroup</ImplementationType>
                          <InitialValue>null</InitialValue>
                        </anyType>
                      </Types>
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>726861bb-1d6c-4456-a313-eb6e47fee298</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Startup</Name>
                          <String />
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>366</Width>
                      <Height>214</Height>
                    </Size>
                    <Location>
                      <X>8</X>
                      <Y>209</Y>
                    </Location>
                    <DisplayName>POS_APP</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>10</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16728064</Argb>
                      </BorderColor>
                      <BorderWidth>3</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>ChannelGroupRefs</Name>
                    <Id>652a4676-8b0b-4f07-af82-80ccd6b535b2</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>bd2780c1-92fc-41fd-9fa8-39bbf0c981da</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>9122b2d0-537b-4903-a3b5-a43994adbaa9</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>120</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>11</X>
                      <Y>439</Y>
                    </Location>
                    <DisplayName>ChannelGroupRefs</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Dictionary&lt;ChannelGroup, Simulation.VCSsimContext.OperatorContext.POS_APP&gt;</ImplementationType>
                    <InitialValue>new Dictionary&lt;ChannelGroup, Simulation.VCSsimContext.OperatorContext.POS_APP&gt;()</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>DIFRef</Name>
                    <Id>9424f559-d3a8-4dbb-8a1d-f82ac9aad8bf</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>2bac1526-124a-4481-b977-634381505786</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>363aa7ae-1e14-4bd6-a5f7-60e0a54649d3</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>12</X>
                      <Y>179</Y>
                    </Location>
                    <DisplayName>DIFRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Simulation.VCSsimContext.VCSContext.DIF</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="ConnectorType">
                    <Name>DSP</Name>
                    <Id>2e0ae207-b847-42a0-9140-dba0973fbe91</Id>
                    <Structure xsi:type="ConnectorTypeStructure">
                      <Id>37e9cb63-1e54-48e6-a7ad-7cd042569cc7</Id>
                      <Types>
                        <anyType xsi:type="MethodType">
                          <Name>ReceiveStream</Name>
                          <Id>30ee2336-4f42-44be-afa3-86d8cf796008</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>a292903b-f5b5-472c-92da-29b6d5a2fd1e</Id>
                            <Types>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestRef</Name>
                                <Id>2fa9781d-fa24-40dc-b282-035d41a7b057</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>4d7e03a7-25f2-41e9-9991-a763ea17e218</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>fea02987-bc32-4426-b70f-74fffd598a97</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>21</X>
                                  <Y>21</Y>
                                </Location>
                                <DisplayName>OpRequestRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>OpRequest</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                              <anyType xsi:type="VariableType">
                                <Name>StreamRef</Name>
                                <Id>b46268de-97e6-4ba8-9c09-a96d1efb5228</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>b13de51b-d6f9-43e8-88b7-c89629e25d4e</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>7471f834-8737-47a8-976a-f24b0f0f07de</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>23</X>
                                  <Y>47</Y>
                                </Location>
                                <DisplayName>StreamRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>VoiceStream</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>71fb231d-595d-4120-8400-5c52d8beb0ef</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>if (StreamRef != null &amp;&amp; OpRequestRef != null)
{

VoiceStream vc = null;
if (DSP.Operator.StreamsIn.TryGetValue(OpRequestRef.ChannelRef, out vc))
{
	if (vc != StreamRef) // should not happen ;-)
	{
		DomainProAnalyst.Instance.Report("Operator.DSP.ReceiveStream: replacing existing StreamRef with RadioId: "+OpRequestRef.ChannelRef.RadioRef.RadioId);
		DSP.Operator.StreamsIn[OpRequestRef.ChannelRef] = StreamRef;			
	}
}
else
{
	DSP.Operator.StreamsIn.Add(OpRequestRef.ChannelRef,StreamRef);
}


}</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return DSP.MethodDuration;
</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>140</Width>
                            <Height>78</Height>
                          </Size>
                          <Location>
                            <X>188</X>
                            <Y>20</Y>
                          </Location>
                          <DisplayName>ReceiveStream</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                      </Types>
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>8c3a704d-b5be-45df-a85b-b93e9dc2d9c1</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Startup</Name>
                          <String />
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>357</Width>
                      <Height>112</Height>
                    </Size>
                    <Location>
                      <X>12</X>
                      <Y>33</Y>
                    </Location>
                    <DisplayName>DSP</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>10</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16760832</Argb>
                      </BorderColor>
                      <BorderWidth>3</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>StreamsIn</Name>
                    <Id>29afbe0e-4ac0-412a-b8b1-6dddfd96c167</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>cd0b6f1b-042e-476b-afad-61e4d1d67f30</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>29a47c8f-49ca-4038-80fd-ab5f22a41810</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>166</X>
                      <Y>149</Y>
                    </Location>
                    <DisplayName>StreamsIn</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Dictionary&lt;Channel,VoiceStream&gt;</ImplementationType>
                    <InitialValue>new Dictionary&lt;Channel,VoiceStream&gt;()</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>StreamsOut</Name>
                    <Id>56224f65-0710-430f-8c40-a52173590a69</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>34cafd20-4666-478b-be57-81a7e656b4aa</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>e24342c6-c34b-41e6-aa5d-acb7d00ff8ba</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>269</X>
                      <Y>149</Y>
                    </Location>
                    <DisplayName>StreamsOut</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Dictionary&lt;Channel,VoiceStream&gt;</ImplementationType>
                    <InitialValue>new Dictionary&lt;Channel,VoiceStream&gt;()</InitialValue>
                  </anyType>
                  <anyType xsi:type="MethodSequence">
                    <Name>NewMethodSequence</Name>
                    <Id>dc3d1fd0-bc41-4552-a5a9-0f51d4fa33a1</Id>
                    <Structure xsi:type="MethodSequenceStructure">
                      <Id>395ad1ed-1adc-4d26-b7c8-1a686b8b6813</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>35335620-6de4-4ee8-8915-ccebba39d564</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Trigger</Name>
                          <String>return ChannelUpdated.desiredStatusAchieved;
</String>
                        </Instruction>
                        <Instruction>
                          <Name>Transfer</Name>
                          <String />
                        </Instruction>
                        <Instruction>
                          <Name>Resolve</Name>
                          <String>return ChannelUpdated.POS_APP.Operator.BehaviorList[0];</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>31</Width>
                      <Height>123</Height>
                    </Size>
                    <Location>
                      <X>292</X>
                      <Y>398</Y>
                    </Location>
                    <DisplayName>NewMethodSequence</DisplayName>
                    <ShowName>false</ShowName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <LineProperties>
                      <BorderColor>
                        <Argb>-16777024</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <Role1>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Offset>
                          <X>98</X>
                          <Y>84</Y>
                        </Offset>
                      </Role1>
                      <Role2>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Icon>..\..\Icons\arrow.gif</Icon>
                        <Offset>
                          <X>120</X>
                          <Y>0</Y>
                        </Offset>
                      </Role2>
                    </LineProperties>
                    <Role1Id>7922232a-2ec3-444f-a8ec-63a6a8eda66f</Role1Id>
                    <Role2Id>72f12095-c622-4218-9c30-8478d9d5832e</Role2Id>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>InStreamCount</Name>
                    <Id>f4377bbb-9648-4575-b19c-78a217fe91d7</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>c6eae9b5-60b2-4869-8fff-ece3f230727f</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>41a2c326-a2e2-45f3-8082-9e292d98d0ad</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>93</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>7</X>
                      <Y>669</Y>
                    </Location>
                    <DisplayName>InStreamCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>SilentStreamCount</Name>
                    <Id>74afedb6-c750-4ad6-9409-6167d651bf2a</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>4632b891-531f-4820-84ef-0095cb180ad0</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>88f8978b-f506-4400-a99f-1437a2c8e769</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>121</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>103</X>
                      <Y>669</Y>
                    </Location>
                    <DisplayName>SilentStreamCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>17c8667f-c493-481f-ae73-29c294479250</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>385</Width>
                <Height>702</Height>
              </Size>
              <Location>
                <X>109</X>
                <Y>317</Y>
              </Location>
              <DisplayName>Operator</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>11</Size>
                <Style>Bold</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-16727872</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>-1</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="DataObjType">
              <Name>ChannelGroup</Name>
              <Id>c375e72a-b5e9-41bc-a095-8283f3dbeda9</Id>
              <Structure xsi:type="DataObjTypeStructure">
                <Id>906b887c-cefc-406d-a0be-40116573d8ab</Id>
                <Types>
                  <anyType xsi:type="VariableType">
                    <Name>MainChannelRefs</Name>
                    <Id>abb53e89-44ad-479c-be4d-1b222a5f730f</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>c2863083-18c5-4b6d-825f-aeabef7791cd</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>f921649d-2f06-4038-a441-900df1ad371a</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>112</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>15</X>
                      <Y>27</Y>
                    </Location>
                    <DisplayName>MainChannelRefs</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>HashSet&lt;Channel&gt;</ImplementationType>
                    <InitialValue>new HashSet&lt;Channel&gt;()</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>Status</Name>
                    <Id>bb4af845-0c96-4517-96b0-e3a1a50ede53</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>1aba73d6-cf64-474c-9a9d-8bfbfe8b2297</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>711b03ea-5fb1-4bc5-baf5-4f10da970fa7</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>110</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>15</X>
                      <Y>92</Y>
                    </Location>
                    <DisplayName>Status</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>-1</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>BackupChannelRefs</Name>
                    <Id>d7ad2584-a64d-4cf2-80c5-c8dbd99e6579</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>ddb32844-1df9-4a43-a1a7-63fadf198d80</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>71fbbec3-bf61-48b3-9307-18f4998b3393</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>112</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>16</X>
                      <Y>56</Y>
                    </Location>
                    <DisplayName>BackupChannelRefs</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>HashSet&lt;Channel&gt;</ImplementationType>
                    <InitialValue>new HashSet&lt;Channel&gt;()</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>cad622ce-dc95-4e28-b4a8-ce2894d01723</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>155</Width>
                <Height>122</Height>
              </Size>
              <Location>
                <X>128</X>
                <Y>165</Y>
              </Location>
              <DisplayName>ChannelGroup</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-32768</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <CornerRounding>3</CornerRounding>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="DataObjType">
              <Name>Channel</Name>
              <Id>4c09aade-3497-4dbe-98ce-60ab48c489d7</Id>
              <Structure xsi:type="DataObjTypeStructure">
                <Id>cf4899ef-7650-4301-8e7d-93f4dcd2e5ef</Id>
                <Types>
                  <anyType xsi:type="VariableType">
                    <Name>RadioRef</Name>
                    <Id>f3389321-7469-4b80-bbda-309308c6beb6</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>1e76def8-679b-46d6-a8a9-8f05736b6533</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>607b7d8b-0d1d-4894-b723-2db78b26aaca</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>20</X>
                      <Y>18</Y>
                    </Location>
                    <DisplayName>RadioRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Radio</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>StatusView</Name>
                    <Id>b38a8329-4cff-4b56-b2c5-d4383beb6671</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>682b171e-c4b9-47e3-a07c-e833dd5f30dd</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>b2ca2794-6240-4464-beef-42ddb7dc2901</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>20</X>
                      <Y>47</Y>
                    </Location>
                    <DisplayName>StatusView</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>-1</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>bf8df424-742b-4450-9614-e39adb4d36ad</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>148</Width>
                <Height>125</Height>
              </Size>
              <Location>
                <X>319</X>
                <Y>166</Y>
              </Location>
              <DisplayName>Channel</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-32768</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <CornerRounding>3</CornerRounding>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="ComponentType">
              <Name>RAIF</Name>
              <Id>8c3c12a5-aab2-449e-81db-87d3445eb1ea</Id>
              <Structure xsi:type="ComponentTypeStructure">
                <Id>3e62228b-109a-4a3e-a668-ef68a5a96a42</Id>
                <Types>
                  <anyType xsi:type="ComponentType">
                    <Name>RAIF_APP</Name>
                    <Id>367d0fd5-291d-4a20-8275-b0e0acf369e4</Id>
                    <Structure xsi:type="ComponentTypeStructure">
                      <Id>decfaf5c-e1a7-497b-b9de-6b48f184f9f2</Id>
                      <Types>
                        <anyType xsi:type="MethodType">
                          <Name>AssignRadio</Name>
                          <Id>a7115268-6b23-41c4-8ce7-fe217ce68e15</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>7e148be9-aa61-4e7d-a7e4-94161ca2e8f1</Id>
                            <Types>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestRef</Name>
                                <Id>6b9f620f-b81a-48fb-acf7-7f8c58223b89</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>8b8ba890-f00d-4e40-910a-bcbd4510db5c</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>41974252-ac1a-4cc6-9851-25624f8353e1</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>6</X>
                                  <Y>16</Y>
                                </Location>
                                <DisplayName>OpRequestRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>OpRequest</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                              <anyType xsi:type="VariableType">
                                <Name>isCompleted</Name>
                                <Id>b484c786-6657-4b26-82c7-c6ae37dd1927</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>749f0ed3-26e5-4df4-b591-b1cc31aede68</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>602bcceb-0c88-496b-a1e2-b62e0cf26602</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>6</X>
                                  <Y>41</Y>
                                </Location>
                                <DisplayName>isCompleted</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>bool</ImplementationType>
                                <InitialValue>false</InitialValue>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>dfdf4d3c-7d8b-4510-a170-9591f8cbddcc</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>// check if RTPstream already exists, if so, reply immediately, otherwise forward request to XRIF

if (RAIF_APP.OpRequestQueue.Count &gt; 0)
{
	OpRequestRef = RAIF_APP.OpRequestQueue.Dequeue();
	OpRequestRef.Status = "WIP";
	if (OpRequestRef.ChannelRef != null &amp;&amp; OpRequestRef.ChannelRef.RadioRef != null)
	{
		RTPStream stream = null;
		if (RAIF_APP.RAIF.RadioInRTPStreams.TryGetValue(OpRequestRef.ChannelRef.RadioRef, out stream))// already someone else keyed in or listening
		{
			isCompleted = true;
		}
		else //need to key in
		{
			isCompleted = false;
			// assure we have a valid link to xrif for this radio request			
			Simulation.VCSsimContext.IRIFContext.XRIF xrif = OpRequestRef.ChannelRef.RadioRef.XRIFRef;
			if (xrif == null)
			{
				DomainProAnalyst.Instance.Report("RAIF_APP AssignRadio - radio.XRIFref == null");
				isCompleted = true; // implicitly aborts by AssignedOK later on
			}
		}
	}
	else
	{
		DomainProAnalyst.Instance.Report("RAIF_APP AssignRadio - ChannelRef or RadioRef == null");		
	}
}
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return RAIF_APP.MethodDuration;

</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>118</Width>
                            <Height>72</Height>
                          </Size>
                          <Location>
                            <X>185</X>
                            <Y>138</Y>
                          </Location>
                          <DisplayName>AssignRadio</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>AssignedOk</Name>
                          <Id>564bd7a7-3d36-4b77-915d-3c3bafda73c9</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>086b2ab5-21e1-4632-b485-a558781f0dc1</Id>
                            <Types>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestRef</Name>
                                <Id>863a1f0a-e039-485a-a1fc-af843f349dc0</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>b23e35fa-2303-4dbf-85cc-ba88672c31d8</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>afce5485-82ad-4bc0-8525-eb5b64753b84</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>4</X>
                                  <Y>20</Y>
                                </Location>
                                <DisplayName>OpRequestRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>OpRequest</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>c0771af3-d216-4c65-b79d-6e266cf84cdc</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>// when signal from sip and dsp there, then signal radio ready
if (RAIF_APP.RAIF.RadioInRTPStreams.ContainsKey(OpRequestRef.ChannelRef.RadioRef))
{
	OpRequestRef.Status="SUCCESS";
}
else
{
	OpRequestRef.Status="FAILED";
}

</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return RAIF_APP.MethodDuration;
</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>105</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>53</X>
                            <Y>169</Y>
                          </Location>
                          <DisplayName>AssignedOk</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>RxRadio</Name>
                          <Id>40ac9838-9992-4ec7-938c-b4ad74b3891b</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>46db2c1a-0835-4618-95cb-82fa2b13f35a</Id>
                            <Types>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestRef</Name>
                                <Id>17e012ad-3521-461c-97e9-fc4e78264e82</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>f5923562-d7b6-4616-ad6c-256ebf69a0d3</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>e573887d-6f14-42d6-abb0-4aa3ff074d36</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>7</X>
                                  <Y>18</Y>
                                </Location>
                                <DisplayName>OpRequestRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>OpRequest</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                              <anyType xsi:type="VariableType">
                                <Name>isCompleted</Name>
                                <Id>75aac32e-6687-4950-98f0-511f84d879cc</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>edda42f7-e66e-4eb2-a959-8e1b1e7f547d</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>392cb23a-704c-43bd-b8ca-c7949c02fc5c</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>7</X>
                                  <Y>43</Y>
                                </Location>
                                <DisplayName>isCompleted</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>bool</ImplementationType>
                                <InitialValue>false</InitialValue>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>da78d4c4-f8ad-4d26-9cd1-7212c1f98d64</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>// check if Stream available, if R2S then SIP reinvite for RTP, if not available at all, then go directly to RTP.

if (RAIF_APP.OpRequestQueue.Count &gt; 0)
{
	OpRequestRef = RAIF_APP.OpRequestQueue.Dequeue();
	OpRequestRef.Status = "WIP";
	// check if RTPStream exists and if so, is in RTP mode

	if (OpRequestRef.ChannelRef != null &amp;&amp; OpRequestRef.ChannelRef.RadioRef != null)
	{
		RTPStream stream = null;
		if (RAIF_APP.RAIF.RadioInRTPStreams.TryGetValue(OpRequestRef.ChannelRef.RadioRef, out stream))// already someone else keyed in or listening
		{
			stream.OpSubscribers.Add(OpRequestRef.OpSender.Operator);
			if (stream.Mode.Equals("RTP"))
			{
				isCompleted = true;
			}
			else // need to switch from R2S to RTP
			{
				isCompleted = false;				
			}
		}
		else //need to key in to RTP directly
		{
			isCompleted = false;
			// assure we have a valid link to xrif for this radio request 
DomainProAnalyst.Instance.Report("RAIF_APP RxRadio without prior keyIn");			

			Simulation.VCSsimContext.IRIFContext.XRIF xrif = 	OpRequestRef.ChannelRef.RadioRef.XRIFRef;
			if (xrif == null)
			{
				DomainProAnalyst.Instance.Report("RAIF_APP AssignRadio - radio.XRIFref == null");
				isCompleted = true; // implicitly aborts by RxOK later on
			}
		}		
	}
	else
	{
		DomainProAnalyst.Instance.Report("RAIF_APP RxRadio - ChannelRef or RadioRef == null");		
	}

}</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return RAIF_APP.MethodDuration;

</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>111</Width>
                            <Height>75</Height>
                          </Size>
                          <Location>
                            <X>190</X>
                            <Y>36</Y>
                          </Location>
                          <DisplayName>RxRadio</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>RxOk</Name>
                          <Id>2105b62e-521a-4d68-b707-8e2231c1a045</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>052c4a9f-b64f-4337-b5e0-0c8befb8041b</Id>
                            <Types>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestRef</Name>
                                <Id>11daea05-c430-4330-b4f0-9f27d8482b77</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>9cbee0d9-6453-4f3b-9764-dfdb0e751255</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>f777a24d-9910-4613-a2d0-9912a6316dfb</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>2</X>
                                  <Y>19</Y>
                                </Location>
                                <DisplayName>OpRequestRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>OpRequest</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>ee61e3f4-8a6d-47f7-b1ec-17d030ae1286</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>RTPStream stream = null;
if (RAIF_APP.RAIF.RadioInRTPStreams.TryGetValue(OpRequestRef.ChannelRef.RadioRef, out stream))
{
	if (stream.Mode.Equals("RTP"))
	{
		OpRequestRef.Status="SUCCESS";
		stream.OpSubscribers.Add(OpRequestRef.OpSender.Operator);
	}
	else
	{
		OpRequestRef.Status="FAILED";
	}
}
else
{
	OpRequestRef.Status="FAILED";
}
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return RAIF_APP.MethodDuration;
</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>100</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>15</X>
                            <Y>69</Y>
                          </Location>
                          <DisplayName>RxOk</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="VariableType">
                          <Name>OpRequestQueue</Name>
                          <Id>3be7288c-2e72-4990-a496-b6147a03daa3</Id>
                          <Structure xsi:type="VariableTypeStructure">
                            <Id>2fe62825-e353-4712-ad02-24ca0f39b3d2</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>bde6850c-7074-493f-aa10-0e1056423f45</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>111</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>11</X>
                            <Y>10</Y>
                          </Location>
                          <DisplayName>OpRequestQueue</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-4194304</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>Queue&lt;OpRequest&gt;</ImplementationType>
                          <InitialValue>new Queue&lt;OpRequest&gt;()</InitialValue>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>Choose</Name>
                          <Id>8fb3ce55-6592-40e2-9147-6391a205bc18</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>b28ddb4c-9b7f-43ec-9385-6e59bf566fe6</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>895c412b-8e00-44b5-a645-8261c7a2349d</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>if (RAIF_APP.OpRequestQueue.Count &gt; 0)
	return 0.001;
else
	return RAIF_APP.MethodDuration/4;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>140</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>395</X>
                            <Y>152</Y>
                          </Location>
                          <DisplayName>Choose</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence</Name>
                          <Id>375185ce-8a2d-4dca-ad02-8285382f7cb6</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>4e99e8bb-e05c-44fe-8e96-fd85d25f59a5</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>bd7d3d38-1cde-4cf2-879b-084e1a584cd9</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>if (RAIF_APP.OpRequestQueue.Count &gt; 0 &amp;&amp; RAIF_APP.OpRequestQueue.Peek().ReqAction.Equals("ASSIGN"))
	return true;
else
	return false;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>92</Width>
                            <Height>34</Height>
                          </Size>
                          <Location>
                            <X>303</X>
                            <Y>138</Y>
                          </Location>
                          <DisplayName>NewMethodSequence</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>0</X>
                                <Y>20</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>118</X>
                                <Y>0</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>8fb3ce55-6592-40e2-9147-6391a205bc18</Role1Id>
                          <Role2Id>a7115268-6b23-41c4-8ce7-fe217ce68e15</Role2Id>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence1</Name>
                          <Id>5d8e5b62-dc51-4459-850e-ccce62f6ca17</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>59d1c8e7-8222-4c80-b7bf-c3121f15ddc8</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>28cae8b5-b3e7-481d-9a83-0404d678ff69</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>if (RAIF_APP.OpRequestQueue.Count &gt; 0 &amp;&amp; RAIF_APP.OpRequestQueue.Peek().ReqAction.Equals("RX"))
	return true;
else
	return false;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>94</Width>
                            <Height>41</Height>
                          </Size>
                          <Location>
                            <X>301</X>
                            <Y>111</Y>
                          </Location>
                          <DisplayName>NewMethodSequence1</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>0</X>
                                <Y>0</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>111</X>
                                <Y>75</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>8fb3ce55-6592-40e2-9147-6391a205bc18</Role1Id>
                          <Role2Id>40ac9838-9992-4ec7-938c-b4ad74b3891b</Role2Id>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence2</Name>
                          <Id>202526f2-4989-4ac0-8be2-68fb97f51fab</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>a7e7ed3e-e237-4d76-9339-707a3205c2fe</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>d56603c7-3e7b-463b-b203-b2d044d53ca0</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return AssignRadio.isCompleted;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String>AssignedOk.OpRequestRef = AssignRadio.OpRequestRef;</String>
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>62</Width>
                            <Height>31</Height>
                          </Size>
                          <Location>
                            <X>123</X>
                            <Y>138</Y>
                          </Location>
                          <DisplayName>NewMethodSequence2</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>0</X>
                                <Y>0</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>70</X>
                                <Y>0</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>a7115268-6b23-41c4-8ce7-fe217ce68e15</Role1Id>
                          <Role2Id>564bd7a7-3d36-4b77-915d-3c3bafda73c9</Role2Id>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence3</Name>
                          <Id>88d51158-d1bf-47b6-935f-83263a1cbe7d</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>73513dac-78ee-43f4-a5f0-3abe9900c2ef</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>fcd1aff0-5871-4c23-9b05-e577235d9890</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return true;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>92</Width>
                            <Height>13</Height>
                          </Size>
                          <Location>
                            <X>303</X>
                            <Y>189</Y>
                          </Location>
                          <DisplayName>NewMethodSequence3</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>118</X>
                                <Y>51</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>0</X>
                                <Y>50</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>a7115268-6b23-41c4-8ce7-fe217ce68e15</Role1Id>
                          <Role2Id>8fb3ce55-6592-40e2-9147-6391a205bc18</Role2Id>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence4</Name>
                          <Id>31426d68-2fac-42c1-a199-e116edced624</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>1deeb17e-2a3c-4d36-bbd2-3351a0c8fc7d</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>aa039844-b5b9-4152-a549-5058e08e86fe</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return true;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>121</Width>
                            <Height>100</Height>
                          </Size>
                          <Location>
                            <X>301</X>
                            <Y>52</Y>
                          </Location>
                          <DisplayName>NewMethodSequence4</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>111</X>
                                <Y>16</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>27</X>
                                <Y>0</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>40ac9838-9992-4ec7-938c-b4ad74b3891b</Role1Id>
                          <Role2Id>8fb3ce55-6592-40e2-9147-6391a205bc18</Role2Id>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>EmptyIdle</Name>
                          <Id>dac77ccc-4f2f-4c86-9298-6e8d09b52634</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>9f549003-dc4a-4f91-801e-32e6b437b5d5</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>6fe8d305-e3a5-4262-86f2-59cfc90ca883</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return 0;
</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>140</Width>
                            <Height>50</Height>
                          </Size>
                          <Location>
                            <X>586</X>
                            <Y>153</Y>
                          </Location>
                          <DisplayName>EmptyIdle</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence5</Name>
                          <Id>e7ef1af0-412c-41cf-a85b-396c868370d2</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>798cd2bd-1cc1-476f-b57b-dd26c5044cfd</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>f659ba90-fd5a-4696-a78e-c02ff1c46c90</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return (RAIF_APP.OpRequestQueue.Count &lt;= 0);
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>51</Width>
                            <Height>1</Height>
                          </Size>
                          <Location>
                            <X>535</X>
                            <Y>202</Y>
                          </Location>
                          <DisplayName>NewMethodSequence5</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>140</X>
                                <Y>50</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>0</X>
                                <Y>50</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>8fb3ce55-6592-40e2-9147-6391a205bc18</Role1Id>
                          <Role2Id>dac77ccc-4f2f-4c86-9298-6e8d09b52634</Role2Id>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence6</Name>
                          <Id>0dc187b7-6aa7-4c73-addf-61c104576bd3</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>3eb51bd0-9d5e-47ee-9548-423f9a2b9365</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>325beca3-2797-4233-9342-c56f428ddd24</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return true;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String />
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>51</Width>
                            <Height>18</Height>
                          </Size>
                          <Location>
                            <X>535</X>
                            <Y>152</Y>
                          </Location>
                          <DisplayName>NewMethodSequence6</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>0</X>
                                <Y>17</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>140</X>
                                <Y>0</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>dac77ccc-4f2f-4c86-9298-6e8d09b52634</Role1Id>
                          <Role2Id>8fb3ce55-6592-40e2-9147-6391a205bc18</Role2Id>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence7</Name>
                          <Id>3f01a6d4-f6ee-4bc1-b53a-5aef114626c7</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>b98ba32c-f89d-4362-8ed5-f3b2f9bd7653</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>a6a2f600-9c9d-49d8-8a3c-790d929361a4</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return RxRadio.isCompleted;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String>RxOk.OpRequestRef = RxRadio.OpRequestRef;</String>
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return Context;</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>75</Width>
                            <Height>7</Height>
                          </Size>
                          <Location>
                            <X>115</X>
                            <Y>62</Y>
                          </Location>
                          <DisplayName>NewMethodSequence7</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>0</X>
                                <Y>26</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>100</X>
                                <Y>0</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>40ac9838-9992-4ec7-938c-b4ad74b3891b</Role1Id>
                          <Role2Id>2105b62e-521a-4d68-b707-8e2231c1a045</Role2Id>
                        </anyType>
                      </Types>
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>101b756f-6271-4168-9e68-a240626ab550</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Startup</Name>
                          <String />
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>327</Width>
                      <Height>241</Height>
                    </Size>
                    <Location>
                      <X>10</X>
                      <Y>33</Y>
                    </Location>
                    <DisplayName>RAIF_APP</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>10</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16728064</Argb>
                      </BorderColor>
                      <BorderWidth>3</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="ConnectorType">
                    <Name>DSP</Name>
                    <Id>45896c46-8ab0-40c6-afb9-bee4e0dbb402</Id>
                    <Structure xsi:type="ConnectorTypeStructure">
                      <Id>5fecdae4-972f-40dd-9bfc-5033764ab282</Id>
                      <Types>
                        <anyType xsi:type="MethodType">
                          <Name>ReceiveR2S</Name>
                          <Id>3b9835b1-83df-4175-89b3-50b7305a9ab7</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>495fcc84-d0d1-43ea-a407-aee307353c2b</Id>
                            <Types>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestRef</Name>
                                <Id>e92756f6-474c-4ce7-aaae-b44f4fd1668b</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>2f2a8b0e-3291-4a4e-ae84-441d4ca0420d</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>4f1a7483-aff0-4713-9c68-2986c9a1bdba</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>11</X>
                                  <Y>18</Y>
                                </Location>
                                <DisplayName>OpRequestRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>OpRequest</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                              <anyType xsi:type="VariableType">
                                <Name>RTPStreamRef</Name>
                                <Id>d6cde4b8-1966-4301-8549-42a46fb4fab6</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>42f58c88-0b62-4846-a9ae-d98b253fcd48</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>167a397a-76bb-4bb6-9089-9c71e2a19054</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>22</Height>
                                </Size>
                                <Location>
                                  <X>11</X>
                                  <Y>42</Y>
                                </Location>
                                <DisplayName>RTPStreamRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>RTPStream</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>5d147462-ab1a-4ae1-8811-55b6565d16de</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>// signal RAIF APP that stream is received, set or replace existing stream
if (!DSP.RAIF.RadioInRTPStreams.ContainsKey(OpRequestRef.ChannelRef.RadioRef))
{
	DSP.RAIF.RadioInRTPStreams.Add(OpRequestRef.ChannelRef.RadioRef,RTPStreamRef);
}

</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return DSP.MethodDuration;

</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>123</Width>
                            <Height>67</Height>
                          </Size>
                          <Location>
                            <X>192</X>
                            <Y>33</Y>
                          </Location>
                          <DisplayName>ReceiveR2S</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodType">
                          <Name>ReceiveRTP</Name>
                          <Id>18d4e839-a2cf-48ed-8d73-f0e06457f933</Id>
                          <Structure xsi:type="MethodTypeStructure">
                            <Id>72ce9937-56fb-4364-9181-838d5edbaab6</Id>
                            <Types>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestRef</Name>
                                <Id>cdc59715-a979-408c-a76b-6f43ac7f868b</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>a9fd89f0-b19e-4ecf-a53a-1aa49acbd151</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>56471771-97dc-4f69-a57d-820cf7f1352b</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>7</X>
                                  <Y>18</Y>
                                </Location>
                                <DisplayName>OpRequestRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>OpRequest</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                              <anyType xsi:type="VariableType">
                                <Name>RTPStreamRef</Name>
                                <Id>18cd825f-325a-4b45-b9a2-a1a2b227af41</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>ff6cff94-53da-407c-bdaf-f5f7c1dc1346</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>18ecc845-681b-4f81-8c37-92cc2662d051</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>100</Width>
                                  <Height>22</Height>
                                </Size>
                                <Location>
                                  <X>7</X>
                                  <Y>44</Y>
                                </Location>
                                <DisplayName>RTPStreamRef</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>RTPStream</ImplementationType>
                                <InitialValue>null</InitialValue>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>ac1b12fe-c6ff-4c88-8076-ccd951434799</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Run</Name>
                                <String>// signal RAIF APP that stream is received, set or replace existing stream
if (!DSP.RAIF.RadioInRTPStreams.ContainsKey(OpRequestRef.ChannelRef.RadioRef))
{
	DSP.RAIF.RadioInRTPStreams.Add(OpRequestRef.ChannelRef.RadioRef,RTPStreamRef);
}</String>
                              </Instruction>
                              <Instruction>
                                <Name>Duration</Name>
                                <String>return DSP.MethodDuration;

</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>122</Width>
                            <Height>72</Height>
                          </Size>
                          <Location>
                            <X>14</X>
                            <Y>118</Y>
                          </Location>
                          <DisplayName>ReceiveRTP</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16776961</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <CornerRounding>5</CornerRounding>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                      </Types>
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>73e51a0e-636f-4550-b3fc-a196f97dc6e3</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Startup</Name>
                          <String />
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>333</Width>
                      <Height>200</Height>
                    </Size>
                    <Location>
                      <X>9</X>
                      <Y>318</Y>
                    </Location>
                    <DisplayName>DSP</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>10</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16760832</Argb>
                      </BorderColor>
                      <BorderWidth>3</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="MethodSequence">
                    <Name>NewMethodSequence</Name>
                    <Id>e0501207-54da-44d6-9a0e-a12b67e35aab</Id>
                    <Structure xsi:type="MethodSequenceStructure">
                      <Id>b76f669c-8ba8-4ce3-94d7-ca0bf59350a6</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>615bf8d1-ec68-48d0-bfb7-1b2e88694bfb</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Trigger</Name>
                          <String>return true;
</String>
                        </Instruction>
                        <Instruction>
                          <Name>Transfer</Name>
                          <String>AssignedOk.OpRequestRef = ReceiveR2S.OpRequestRef;</String>
                        </Instruction>
                        <Instruction>
                          <Name>Resolve</Name>
                          <String>return ReceiveR2S.DSP.RAIF.RAIF_APPList[0];</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>137</Width>
                      <Height>99</Height>
                    </Size>
                    <Location>
                      <X>89</X>
                      <Y>252</Y>
                    </Location>
                    <DisplayName>NewMethodSequence</DisplayName>
                    <ShowName>false</ShowName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <LineProperties>
                      <BorderColor>
                        <Argb>-16777024</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <Role1>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Offset>
                          <X>25</X>
                          <Y>0</Y>
                        </Offset>
                      </Role1>
                      <Role2>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Icon>..\..\Icons\arrow.gif</Icon>
                        <Offset>
                          <X>26</X>
                          <Y>50</Y>
                        </Offset>
                      </Role2>
                    </LineProperties>
                    <Role1Id>3b9835b1-83df-4175-89b3-50b7305a9ab7</Role1Id>
                    <Role2Id>564bd7a7-3d36-4b77-915d-3c3bafda73c9</Role2Id>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>RadioInRTPStreams</Name>
                    <Id>0f1c1fec-a9a2-438f-a5ab-714497235353</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>2bca7c97-3fad-43d6-a0d4-b799cda33f0f</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>89390986-9c6d-4343-a7e2-1d4d9025e8c9</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>117</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>223</X>
                      <Y>530</Y>
                    </Location>
                    <DisplayName>RadioInRTPStreams</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Dictionary&lt;Radio,RTPStream&gt;</ImplementationType>
                    <InitialValue>new Dictionary&lt;Radio,RTPStream&gt;()</InitialValue>
                  </anyType>
                  <anyType xsi:type="MethodSequence">
                    <Name>NewMethodSequence1</Name>
                    <Id>a4139d7c-4b41-49e9-92aa-d501b936cca7</Id>
                    <Structure xsi:type="MethodSequenceStructure">
                      <Id>86f00efd-5cea-47e9-8273-9e7021233247</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>9da6c2f2-0aea-4d44-9f8b-9e5802aaa0fa</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Trigger</Name>
                          <String>return true;
</String>
                        </Instruction>
                        <Instruction>
                          <Name>Transfer</Name>
                          <String>RxOk.OpRequestRef = ReceiveRTP.OpRequestRef;</String>
                        </Instruction>
                        <Instruction>
                          <Name>Resolve</Name>
                          <String>return ReceiveRTP.DSP.RAIF.RAIF_APPList[0];</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>3</Width>
                      <Height>284</Height>
                    </Size>
                    <Location>
                      <X>46</X>
                      <Y>152</Y>
                    </Location>
                    <DisplayName>NewMethodSequence1</DisplayName>
                    <ShowName>false</ShowName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <LineProperties>
                      <BorderColor>
                        <Argb>-16777024</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <Role1>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Offset>
                          <X>26</X>
                          <Y>0</Y>
                        </Offset>
                      </Role1>
                      <Role2>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Icon>..\..\Icons\arrow.gif</Icon>
                        <Offset>
                          <X>21</X>
                          <Y>50</Y>
                        </Offset>
                      </Role2>
                    </LineProperties>
                    <Role1Id>18d4e839-a2cf-48ed-8d73-f0e06457f933</Role1Id>
                    <Role2Id>2105b62e-521a-4d68-b707-8e2231c1a045</Role2Id>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>ReqQueueCount</Name>
                    <Id>6afcb1a7-b0c9-4d7e-a19b-8ae1820f7233</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>99189cd1-ec15-4562-97f3-d5f88f2f09ad</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>ed712a26-a0be-4e93-9edc-aaab116c0837</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>41</X>
                      <Y>536</Y>
                    </Location>
                    <DisplayName>ReqQueueCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>-1</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>DIFRef</Name>
                    <Id>82d3adf3-14c8-49c3-8f59-97042bd3088c</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>0be7a256-517d-415c-99fc-ca1e738a3e13</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>90cf4add-3cc2-444e-aa52-74bb98849fa5</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>8</X>
                      <Y>4</Y>
                    </Location>
                    <DisplayName>DIFRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Simulation.VCSsimContext.VCSContext.DIF</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>RTPStreamCount</Name>
                    <Id>cfef4a78-0987-4e66-ba29-1705c14de4b6</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>7aa874d7-d150-4b1e-8889-1d884a0d646e</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>399a10c4-51f8-45fe-a121-6a9a14d7f297</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>40</X>
                      <Y>563</Y>
                    </Location>
                    <DisplayName>RTPStreamCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>SubscriptionCount</Name>
                    <Id>296cbf5b-9496-4d2e-83b3-c50baf1fb8ea</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>9f79d6ca-e179-4679-9d6d-40d7563284d7</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>346a3c76-df8d-45a4-ae1e-46395b7c720c</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>115</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>147</X>
                      <Y>562</Y>
                    </Location>
                    <DisplayName>SubscriptionCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>a71066da-fc50-4a88-ae07-1259434fcd7b</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String>// split radio equally amongst RAIFs
int countRAIF = 0;
foreach (DP_StartInstance si in Model.Simulation.StartInstances)
{
	if (si.Type == "VCSsim")
	{
		foreach (DP_StartInstance i in si.Instances) {	
		if (i.Type == "RAIF")
		{
			countRAIF = i.Count;
		}}
	}
}
int countR = VCSsim.RadioList.Count;
int posRAIF = VCSsim.RAIFList.IndexOf(this);

int sizeInterval = (int)Math.Ceiling((double)countR/countRAIF);
int begInt = posRAIF * sizeInterval;
int endInt = begInt + sizeInterval - 1;

for(int i = begInt; i &lt;= endInt; i++)
{
	Radio radio = VCSsim.RadioList[i%VCSsim.RadioList.Count];
	if (radio.RAIFRef == null)
	{
		radio.RAIFRef = this;
	}
}

// Determine DIFRef
int countOp = 0;
foreach (DP_StartInstance si in Model.Simulation.StartInstances)
{
	if (si.Type == "VCSsim")
	{
		foreach (DP_StartInstance i in si.Instances) {	
		if (i.Type == "Operator")
		{
			countOp = i.Count;
		}}
	}
}
int pos = VCSsim.RAIFList.IndexOf(this);
int totalPos = pos+countOp;
DIFRef = VCSsim.VCSList[0].DIFList[totalPos];
</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>348</Width>
                <Height>603</Height>
              </Size>
              <Location>
                <X>742</X>
                <Y>419</Y>
              </Location>
              <DisplayName>RAIF</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-16728064</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="ComponentType">
              <Name>IRIF</Name>
              <Id>d87614d0-12cc-4b08-a480-8da4c668105e</Id>
              <Structure xsi:type="ComponentTypeStructure">
                <Id>61fa4236-233e-4b65-b2ce-c43d83c69f17</Id>
                <Types>
                  <anyType xsi:type="ComponentType">
                    <Name>XRIF</Name>
                    <Id>4c3e1687-4db7-4d4f-b2fc-ac157822fde1</Id>
                    <Structure xsi:type="ComponentTypeStructure">
                      <Id>372ab32b-b614-43ff-8265-77641d8d824b</Id>
                      <Types>
                        <anyType xsi:type="ComponentType">
                          <Name>XRIF_APP</Name>
                          <Id>7cb2f421-4c8c-4d77-a5de-e05e776ae00f</Id>
                          <Structure xsi:type="ComponentTypeStructure">
                            <Id>97525c24-60d6-470d-968a-aee1540ceed3</Id>
                            <Types>
                              <anyType xsi:type="MethodType">
                                <Name>SetupSession</Name>
                                <Id>3eae5b69-2d20-4df4-85a5-00772c9db185</Id>
                                <Structure xsi:type="MethodTypeStructure">
                                  <Id>4333ddfb-eada-4e78-9b04-26e0bde25477</Id>
                                  <Types>
                                    <anyType xsi:type="VariableType">
                                      <Name>OpRequestRef</Name>
                                      <Id>e9a3ffe7-74cc-4581-957a-9895ee80b0e9</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>3dfcbad5-c84c-4348-b37b-53b73d6166ad</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>6744da53-76d4-4912-9060-d417748e3500</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>21</X>
                                        <Y>16</Y>
                                      </Location>
                                      <DisplayName>OpRequestRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>OpRequest</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                    <anyType xsi:type="VariableType">
                                      <Name>RAIFRef</Name>
                                      <Id>cfeb9aa4-43a6-4718-b18c-ce6f3080d2e4</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>3d54fcb0-0401-4a0c-be62-5020b8c88031</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>562f1490-bb80-429b-bdf0-644af1c51c3a</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>18</X>
                                        <Y>41</Y>
                                      </Location>
                                      <DisplayName>RAIFRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>RAIF</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                  </Types>
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>52dc5f8e-aab9-4c99-aca1-f59df098c5d0</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Run</Name>
                                      <String>// check Radio status, set to assigned
if (XRIF_APP.XRIF.RadioRef == null)
{
	DomainProAnalyst.Instance.Report("XRIF_APP SetupSession - RadioRef == null");
}
else
{
	if (XRIF_APP.XRIF.RadioRef.Status &lt; 0)
	{
		XRIF_APP.XRIF.RadioRef.Status = 0;
	}
}

;
</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Duration</Name>
                                      <String>return XRIF_APP.MethodDuration;

</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>140</Width>
                                  <Height>66</Height>
                                </Size>
                                <Location>
                                  <X>15</X>
                                  <Y>107</Y>
                                </Location>
                                <DisplayName>SetupSession</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-16776961</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                  <CornerRounding>5</CornerRounding>
                                  <Alignment>TopCenter</Alignment>
                                </ShapeProperties>
                              </anyType>
                              <anyType xsi:type="MethodType">
                                <Name>SetRadioToRx</Name>
                                <Id>eb45f3da-7ebd-4d81-91cd-4fa4e9e2a711</Id>
                                <Structure xsi:type="MethodTypeStructure">
                                  <Id>dae5b103-8e37-428d-a0a9-0c758b20bb73</Id>
                                  <Types>
                                    <anyType xsi:type="VariableType">
                                      <Name>OpRequestRef</Name>
                                      <Id>512eface-46a4-4200-84c4-c533d987a75d</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>cbc5c52a-028f-47a8-90c0-a17a3fed8391</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>150557e6-864b-4b42-b26c-c52170b40c9d</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>19</X>
                                        <Y>20</Y>
                                      </Location>
                                      <DisplayName>OpRequestRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>OpRequest</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                    <anyType xsi:type="VariableType">
                                      <Name>RAIFRef</Name>
                                      <Id>89b5be9c-da17-4264-bf63-f8ce80729054</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>59c1e335-242b-409d-a170-349ad586aeb3</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>f401161f-2114-48a7-8955-c587aa937784</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>21</X>
                                        <Y>45</Y>
                                      </Location>
                                      <DisplayName>RAIFRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>RAIF</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                  </Types>
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>897403a4-3535-47c8-b5ac-e66677fa5c06</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Run</Name>
                                      <String>// check Radio status, set to assigned
if (XRIF_APP.XRIF.RadioRef == null)
{
	DomainProAnalyst.Instance.Report("XRIF_APP SetRadioToRx - RadioRef == null");
}
else
{
	if (XRIF_APP.XRIF.RadioRef.Status &lt; 1)
	{
		XRIF_APP.XRIF.RadioRef.Status = 1;
	}
}

;</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Duration</Name>
                                      <String>return XRIF_APP.MethodDuration;

</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>140</Width>
                                  <Height>76</Height>
                                </Size>
                                <Location>
                                  <X>115</X>
                                  <Y>19</Y>
                                </Location>
                                <DisplayName>SetRadioToRx</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-16776961</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                  <CornerRounding>5</CornerRounding>
                                  <Alignment>TopCenter</Alignment>
                                </ShapeProperties>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>ce50f139-fb7a-4d63-a9ae-e92539374433</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Startup</Name>
                                <String />
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>270</Width>
                            <Height>179</Height>
                          </Size>
                          <Location>
                            <X>8</X>
                            <Y>19</Y>
                          </Location>
                          <DisplayName>XRIF_APP</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>10</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16728064</Argb>
                            </BorderColor>
                            <BorderWidth>3</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="ConnectorType">
                          <Name>DSP</Name>
                          <Id>e3e41100-f589-48bc-88ac-562e0a942d56</Id>
                          <Structure xsi:type="ConnectorTypeStructure">
                            <Id>3e45d6e9-9673-427f-90d5-789bc4bbb17b</Id>
                            <Types>
                              <anyType xsi:type="MethodType">
                                <Name>StartR2S</Name>
                                <Id>a59a7e96-82e2-4644-acf0-70e01a4ec6fc</Id>
                                <Structure xsi:type="MethodTypeStructure">
                                  <Id>0621775e-7fbf-40d2-af75-b556d34164b9</Id>
                                  <Types>
                                    <anyType xsi:type="VariableType">
                                      <Name>OpRequestRef</Name>
                                      <Id>c22d063f-f70a-4907-a9a8-25e86307688f</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>7372671f-8048-4db2-922e-ae593f5da813</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>7c34d0b1-3f6a-4da7-9d44-0691072c349a</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>10</X>
                                        <Y>16</Y>
                                      </Location>
                                      <DisplayName>OpRequestRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>OpRequest</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                    <anyType xsi:type="VariableType">
                                      <Name>RAIFRef</Name>
                                      <Id>c0077ff7-cfac-414d-8289-0ba20ea62217</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>e3fdac5b-289a-4dcc-aa54-465aa3fa28f6</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>f225eaaf-6dc5-41c5-94a1-0287d301647c</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>11</X>
                                        <Y>41</Y>
                                      </Location>
                                      <DisplayName>RAIFRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>RAIF</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                    <anyType xsi:type="VariableType">
                                      <Name>RTPStreamRef</Name>
                                      <Id>ed3ce9f6-5eb0-47a2-8aab-c3b3b80c026c</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>963a0a9d-f104-4445-bf4b-95d61603f4f8</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>af59ce57-1450-4497-811f-892281ebe926</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>11</X>
                                        <Y>65</Y>
                                      </Location>
                                      <DisplayName>RTPStreamRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>RTPStream</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                  </Types>
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>30ace5ac-722a-4f7c-ba9f-581e02f6c65b</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Run</Name>
                                      <String>// create RTPStream, and signal RAIF DSP
RTPStream stream = null;
if (DSP.XRIF.RAIFOutRTPStreams.TryGetValue(RAIFRef, out stream))	// already streaming to RAIF (R2S or RTP then abort implicitly - not for now)
{
	//	RTPStreamRef = null;
	RTPStreamRef = stream;
}
else // create new RTPStream, and add it to dictionary of receivers
{
	RTPStreamRef = DSP.XRIF.IRIF.VCSsim.Create("RTPStream") as RTPStream;
	RTPStreamRef.RadioRef = DSP.XRIF.RadioRef;
	RTPStreamRef.Mode = "R2S";
	DSP.XRIF.RAIFOutRTPStreams.Add(RAIFRef,RTPStreamRef);
}
</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Duration</Name>
                                      <String>return DSP.MethodDuration;

</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>125</Width>
                                  <Height>94</Height>
                                </Size>
                                <Location>
                                  <X>9</X>
                                  <Y>18</Y>
                                </Location>
                                <DisplayName>StartR2S</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-16776961</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                  <CornerRounding>5</CornerRounding>
                                  <Alignment>TopCenter</Alignment>
                                </ShapeProperties>
                              </anyType>
                              <anyType xsi:type="MethodType">
                                <Name>StartRTP</Name>
                                <Id>5dcbaf32-4ce6-4a5d-a0b5-f48b76e5d455</Id>
                                <Structure xsi:type="MethodTypeStructure">
                                  <Id>0dd412bc-7db8-4fbb-8c2d-a916550aca72</Id>
                                  <Types>
                                    <anyType xsi:type="VariableType">
                                      <Name>OpRequestRef</Name>
                                      <Id>48c05213-30ea-4894-be14-80346db5d2f8</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>4e55bf04-82da-47e0-a04e-b663a050d84b</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>34c26df8-ccca-4ce5-b108-5e13e6387016</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>24</X>
                                        <Y>18</Y>
                                      </Location>
                                      <DisplayName>OpRequestRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>OpRequest</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                    <anyType xsi:type="VariableType">
                                      <Name>RAIFRef</Name>
                                      <Id>a4b6d15d-81b3-4bae-8595-568e39a5fe60</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>8465e317-72b4-47b6-b30b-5930813dec73</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>fb4ce03f-6150-4e84-8fee-1fc4921f1d4c</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>24</X>
                                        <Y>44</Y>
                                      </Location>
                                      <DisplayName>RAIFRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>RAIF</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                    <anyType xsi:type="VariableType">
                                      <Name>RTPStreamRef</Name>
                                      <Id>c5b67b64-6273-4f99-babd-2d026e42f8c3</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>e52b6211-bf9c-46d5-b54c-7edfd91ee481</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>58e16547-348d-49b1-9934-c32b0bfe7b39</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>24</X>
                                        <Y>71</Y>
                                      </Location>
                                      <DisplayName>RTPStreamRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>RTPStream</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                  </Types>
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>fc4f8000-9d21-49df-8686-8fe4d59818f5</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Run</Name>
                                      <String>// create or switch to RTPStream, and signal RAIF DSP
RTPStream stream = null;
if (DSP.XRIF.RAIFOutRTPStreams.TryGetValue(RAIFRef, out stream))	// already streaming to RAIF in RTP then abort implicitly - not for now)
{
//	if (stream.Mode.Equals("RTP"))
//		RTPStream = null;
//	else
//	{
		stream.Mode = "RTP";
		RTPStreamRef = stream;
//	}
}
else // create new RTPStream, and add it to dictionary of receivers
{
	RTPStreamRef = DSP.XRIF.IRIF.VCSsim.Create("RTPStream") as RTPStream;
	RTPStreamRef.RadioRef = DSP.XRIF.RadioRef;
	RTPStreamRef.Mode = "RTP";
	DSP.XRIF.RAIFOutRTPStreams.Add(RAIFRef,RTPStreamRef);
}</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Duration</Name>
                                      <String>return DSP.MethodDuration;

</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>141</Width>
                                  <Height>98</Height>
                                </Size>
                                <Location>
                                  <X>115</X>
                                  <Y>113</Y>
                                </Location>
                                <DisplayName>StartRTP</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-16776961</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                  <CornerRounding>5</CornerRounding>
                                  <Alignment>TopCenter</Alignment>
                                </ShapeProperties>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>b55e0827-8bfc-4862-bf33-b800896ef332</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Startup</Name>
                                <String />
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>270</Width>
                            <Height>218</Height>
                          </Size>
                          <Location>
                            <X>6</X>
                            <Y>238</Y>
                          </Location>
                          <DisplayName>DSP</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>10</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16760832</Argb>
                            </BorderColor>
                            <BorderWidth>3</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence</Name>
                          <Id>08170614-a363-4b34-92b1-722f6bde6f1d</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>d000d52e-6af5-4f86-837b-e74cac4ff690</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>4239b498-f0d0-4e90-9a8a-3e62d9d47bea</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return SetupSession.XRIF_APP.XRIF.RadioRef != null &amp;&amp; SetupSession.OpRequestRef != null &amp;&amp; SetupSession.RAIFRef != null;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String>StartR2S.OpRequestRef = SetupSession.OpRequestRef;
StartR2S.RAIFRef = SetupSession.RAIFRef;</String>
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return SetupSession.XRIF_APP.XRIF.DSPList[0];</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>13</Width>
                            <Height>64</Height>
                          </Size>
                          <Location>
                            <X>44</X>
                            <Y>192</Y>
                          </Location>
                          <DisplayName>NewMethodSequence</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>34</X>
                                <Y>66</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>29</X>
                                <Y>0</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>3eae5b69-2d20-4df4-85a5-00772c9db185</Role1Id>
                          <Role2Id>a59a7e96-82e2-4644-acf0-70e01a4ec6fc</Role2Id>
                        </anyType>
                        <anyType xsi:type="VariableType">
                          <Name>RAIFOutRTPStreams</Name>
                          <Id>7779ee42-fad5-4c0e-ba4b-341bc23f3340</Id>
                          <Structure xsi:type="VariableTypeStructure">
                            <Id>40c61dd9-d1bd-4a1f-8708-fecc5595da59</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>2a1c89ed-41e7-4540-aec2-623faf14b601</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>122</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>61</X>
                            <Y>203</Y>
                          </Location>
                          <DisplayName>RAIFOutRTPStreams</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-4194304</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>Dictionary&lt;RAIF,RTPStream&gt;</ImplementationType>
                          <InitialValue>new Dictionary&lt;RAIF,RTPStream&gt;()</InitialValue>
                        </anyType>
                        <anyType xsi:type="VariableType">
                          <Name>RadioRef</Name>
                          <Id>276ebdab-b5af-44fc-abd4-a5ae335fbbda</Id>
                          <Structure xsi:type="VariableTypeStructure">
                            <Id>745bbe2b-50d3-433e-bd57-5af151f92eb7</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>49ed332d-7309-4a38-bd3a-19974d296ba3</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>75</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>187</X>
                            <Y>204</Y>
                          </Location>
                          <DisplayName>RadioRef</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-4194304</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>Radio</ImplementationType>
                          <InitialValue>null</InitialValue>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence1</Name>
                          <Id>3c1dd677-12d2-4b5c-b98b-8496e93197ed</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>90189437-9b7e-46a7-949c-d76273d2a6eb</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>6745f714-0529-4147-a0fe-a711e4f10fd2</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return SetRadioToRx.XRIF_APP.XRIF.RadioRef != null &amp;&amp; SetRadioToRx.OpRequestRef != null &amp;&amp; SetRadioToRx.RAIFRef != null;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String>StartRTP.OpRequestRef = SetRadioToRx.OpRequestRef;
StartRTP.RAIFRef = SetRadioToRx.RAIFRef;</String>
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return SetRadioToRx.XRIF_APP.XRIF.DSPList[0];</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>12</Width>
                            <Height>237</Height>
                          </Size>
                          <Location>
                            <X>231</X>
                            <Y>114</Y>
                          </Location>
                          <DisplayName>NewMethodSequence1</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>120</X>
                                <Y>76</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>110</X>
                                <Y>0</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>eb45f3da-7ebd-4d81-91cd-4fa4e9e2a711</Role1Id>
                          <Role2Id>5dcbaf32-4ce6-4a5d-a0b5-f48b76e5d455</Role2Id>
                        </anyType>
                      </Types>
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>698543e4-f471-48e2-9812-7006a5edb039</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Startup</Name>
                          <String>// retrieve RadioRef:
VCSsim sim = IRIF.VCSsim;
int countIRIF = 0;
int countXRIF = 0;
foreach (DP_StartInstance si in Model.Simulation.StartInstances)
{
	if (si.Type == "VCSsim")
	{
		foreach (DP_StartInstance i in si.Instances) {	
		if (i.Type == "IRIF")
		{
			countIRIF = i.Count;
			foreach (DP_StartInstance ixrif in i.Instances) {	
			if (ixrif.Type == "XRIF")
			{
				countXRIF = ixrif.Count;
				break;
			}}
			break;
		}}
	}
}


int xrifCount = countXRIF;
int xrifPos = IRIF.XRIFList.IndexOf(this);
int irifPos = sim.IRIFList.IndexOf(IRIF);

int rPos = xrifCount*irifPos + xrifPos;
RadioRef = sim.RadioList[rPos];
RadioRef.XRIFRef = this;</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>285</Width>
                      <Height>465</Height>
                    </Size>
                    <Location>
                      <X>15</X>
                      <Y>28</Y>
                    </Location>
                    <DisplayName>XRIF</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>10</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16728064</Argb>
                      </BorderColor>
                      <BorderWidth>3</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>2501f9b4-634a-4d01-81a3-ec8376c3e7fa</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>321</Width>
                <Height>513</Height>
              </Size>
              <Location>
                <X>1153</X>
                <Y>476</Y>
              </Location>
              <DisplayName>IRIF</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-16728064</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="MethodSequence">
              <Name>NewMethodSequence</Name>
              <Id>5bf54501-402e-4a88-b03b-257d40dd9241</Id>
              <Structure xsi:type="MethodSequenceStructure">
                <Id>1619c12f-3ba8-4fce-89f7-c2f985380f75</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>c6b1bf46-b03e-4b68-84d7-eb35eaeca7ef</Id>
                <Instructions>
                  <Instruction>
                    <Name>Trigger</Name>
                    <String>return StartR2S.RAIFRef != null &amp;&amp; StartR2S.RTPStreamRef != null &amp;&amp; StartR2S.OpRequestRef != null;
</String>
                  </Instruction>
                  <Instruction>
                    <Name>Transfer</Name>
                    <String>ReceiveR2S.OpRequestRef = StartR2S.OpRequestRef;
ReceiveR2S.RTPStreamRef = StartR2S.RTPStreamRef;
</String>
                  </Instruction>
                  <Instruction>
                    <Name>Resolve</Name>
                    <String>return StartR2S.RAIFRef.DSPList[0];</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>117</Width>
                <Height>3</Height>
              </Size>
              <Location>
                <X>1066</X>
                <Y>790</Y>
              </Location>
              <DisplayName>NewMethodSequence</DisplayName>
              <ShowName>false</ShowName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <LineProperties>
                <BorderColor>
                  <Argb>-16777024</Argb>
                </BorderColor>
                <BorderWidth>2</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <Role1>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Offset>
                    <X>0</X>
                    <Y>30</Y>
                  </Offset>
                </Role1>
                <Role2>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Icon>..\..\Icons\arrow.gif</Icon>
                  <Offset>
                    <X>123</X>
                    <Y>23</Y>
                  </Offset>
                </Role2>
              </LineProperties>
              <Role1Id>a59a7e96-82e2-4644-acf0-70e01a4ec6fc</Role1Id>
              <Role2Id>3b9835b1-83df-4175-89b3-50b7305a9ab7</Role2Id>
            </anyType>
            <anyType xsi:type="MethodSequence">
              <Name>NewMethodSequence2</Name>
              <Id>6ddeeca7-cb35-45f1-8537-6776efbd48a1</Id>
              <Structure xsi:type="MethodSequenceStructure">
                <Id>2c7657a8-7c8a-4d7f-bd9a-235c6c8ff945</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>d4bf8a3a-37cc-4cd3-a7e0-11a6e5a37176</Id>
                <Instructions>
                  <Instruction>
                    <Name>Trigger</Name>
                    <String>return AssignedOk.OpRequestRef != null;
</String>
                  </Instruction>
                  <Instruction>
                    <Name>Transfer</Name>
                    <String>ChannelUpdated.OpRequestRef = AssignedOk.OpRequestRef;</String>
                  </Instruction>
                  <Instruction>
                    <Name>Resolve</Name>
                    <String>return AssignedOk.OpRequestRef.OpSender;</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>360</Width>
                <Height>22</Height>
              </Size>
              <Location>
                <X>445</X>
                <Y>645</Y>
              </Location>
              <DisplayName>NewMethodSequence2</DisplayName>
              <ShowName>false</ShowName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <LineProperties>
                <BorderColor>
                  <Argb>-16777024</Argb>
                </BorderColor>
                <BorderWidth>2</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <Role1>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Offset>
                    <X>0</X>
                    <Y>24</Y>
                  </Offset>
                </Role1>
                <Role2>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Icon>..\..\Icons\arrow.gif</Icon>
                  <Offset>
                    <X>142</X>
                    <Y>36</Y>
                  </Offset>
                </Role2>
              </LineProperties>
              <Role1Id>564bd7a7-3d36-4b77-915d-3c3bafda73c9</Role1Id>
              <Role2Id>7922232a-2ec3-444f-a8ec-63a6a8eda66f</Role2Id>
            </anyType>
            <anyType xsi:type="DataObjType">
              <Name>OpRequest</Name>
              <Id>4d800005-c5b7-4cde-bbe5-4d1937fb5615</Id>
              <Structure xsi:type="DataObjTypeStructure">
                <Id>7a8454c1-2145-4d30-a495-450c4752d801</Id>
                <Types>
                  <anyType xsi:type="VariableType">
                    <Name>ChannelRef</Name>
                    <Id>1dbc8e5c-209c-4144-9b57-d380b166a3df</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>b6c7ab03-fe0a-4f4f-aec7-562069a25d88</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>b5d3fd9b-071f-47e0-a9d2-12bd4c250a23</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>15</X>
                      <Y>25</Y>
                    </Location>
                    <DisplayName>ChannelRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Channel</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>ReqAction</Name>
                    <Id>98d0ddcb-cc7b-4ecf-b04b-8b24578193fb</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>a77b86d0-43f8-40a7-afa5-5d7cf0f0dcbf</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>9200384b-00c6-4f96-9135-2995b047df60</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>14</X>
                      <Y>53</Y>
                    </Location>
                    <DisplayName>ReqAction</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="Comment">
                    <Name>Actiontypes</Name>
                    <Id>43d738c7-1ed1-4472-ae3d-2c9a698e3225</Id>
                    <Structure xsi:type="CommentStructure">
                      <Id>1f1458d1-193c-43f5-a900-7306cded3428</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>3f996e73-f52f-4bd9-bb0a-3df5621e12f6</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>148</Width>
                      <Height>43</Height>
                    </Size>
                    <Location>
                      <X>13</X>
                      <Y>81</Y>
                    </Location>
                    <DisplayName>Actiontypes_ ASSIGN RX TX RXTX UNASSIGN</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderStyle>Dash</BorderStyle>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>-64</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>OpSender</Name>
                    <Id>94b49f61-3bfe-4049-b6ad-b571bda5f4db</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>b9380452-e2ec-42e5-bb5c-b41ae84046d8</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>127c1094-e996-4137-a75b-521fd2eeaa13</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>12</X>
                      <Y>201</Y>
                    </Location>
                    <DisplayName>OpSender</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Simulation.VCSsimContext.OperatorContext.POS_APP</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>Status</Name>
                    <Id>c5179af9-7ad1-4651-92ec-8e067d878207</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>3aabbe36-eaf4-4cf6-a509-8e2ec0976435</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>38f19d79-fc56-4878-8131-b5dcdb834c4f</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>13</X>
                      <Y>129</Y>
                    </Location>
                    <DisplayName>Status</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="Comment">
                    <Name>StatusTypes</Name>
                    <Id>7fb7f666-d480-4511-9c6d-ee1503c4544d</Id>
                    <Structure xsi:type="CommentStructure">
                      <Id>0dfe165a-176f-415c-bec2-318d95e1b860</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>d76ee5ff-6253-4612-90b7-324e8a8f6434</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>127</Width>
                      <Height>42</Height>
                    </Size>
                    <Location>
                      <X>12</X>
                      <Y>156</Y>
                    </Location>
                    <DisplayName>StatusTypes: OPEN, WIP, SUCCESS, FAILED</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderStyle>Dash</BorderStyle>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>-64</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>b2c14aa3-7b06-4c43-82f3-5e9adf378c49</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>200</Width>
                <Height>241</Height>
              </Size>
              <Location>
                <X>514</X>
                <Y>705</Y>
              </Location>
              <DisplayName>OpRequest</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-32768</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <CornerRounding>3</CornerRounding>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="DataObjType">
              <Name>RTPStream</Name>
              <Id>7e402085-58cc-4604-a04d-7777f11cff1c</Id>
              <Structure xsi:type="DataObjTypeStructure">
                <Id>cc35df5c-3713-4511-a95d-2a7280d2d139</Id>
                <Types>
                  <anyType xsi:type="VariableType">
                    <Name>RadioRef</Name>
                    <Id>e6956b17-a7fa-4b4e-8ce6-a6d492794444</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>919df08e-53f3-4f07-a823-f2c2ecc7014f</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>30ca82b5-ddf6-4078-8b2a-4b34fb582c38</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>13</X>
                      <Y>28</Y>
                    </Location>
                    <DisplayName>RadioRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Radio</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>Mode</Name>
                    <Id>291b2e3a-e085-439b-a933-f956f76654d5</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>8a54d159-3db2-4d74-bee2-33b2532ffe44</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>a7f271b8-48f5-4ad0-8daa-56d7dda89258</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>14</X>
                      <Y>62</Y>
                    </Location>
                    <DisplayName>Mode</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="Comment">
                    <Name>ModeInfo</Name>
                    <Id>d0935527-b69d-463c-836b-db7f525b59b4</Id>
                    <Structure xsi:type="CommentStructure">
                      <Id>a3ce5209-639b-41fe-a90e-92afcb2bcb98</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>520dd5ed-4c9e-47fe-9b92-e724280fc536</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>117</Width>
                      <Height>32</Height>
                    </Size>
                    <Location>
                      <X>13</X>
                      <Y>91</Y>
                    </Location>
                    <DisplayName>ModeInfo  is R2S or RTP</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderStyle>Dash</BorderStyle>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>-64</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>VoiceStreamRefs</Name>
                    <Id>17d3a1d5-1612-4628-885d-b6fc3b6c46fe</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>b4e86ed6-c514-4997-af72-c3dd159a8fca</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>0ad93e0b-e971-486e-a106-8b1a1cef44f2</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>135</X>
                      <Y>126</Y>
                    </Location>
                    <DisplayName>VoiceStreamRefs</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>HashSet&lt;VoiceStream&gt;</ImplementationType>
                    <InitialValue>new HashSet&lt;VoiceStream&gt;()</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>OpSubscribers</Name>
                    <Id>77ead21e-a593-45e8-b776-8b40acb483fb</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>80093043-0696-4935-8e16-06242ad1977e</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>cd33a07a-6a45-48f4-9cc4-f6da45ec3cf8</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>109</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>14</X>
                      <Y>179</Y>
                    </Location>
                    <DisplayName>OpSubscribers</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>HashSet&lt;Operator&gt;</ImplementationType>
                    <InitialValue>new HashSet&lt;Operator&gt;()</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>SubscriberCount</Name>
                    <Id>3cb305e0-f844-41c6-ae4d-e189a28f1c8c</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>ebecc549-5198-4a2d-aaf0-21dfe306d9ff</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>822c0f21-a58c-4289-a9ae-0dc4c71c4d64</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>18</X>
                      <Y>206</Y>
                    </Location>
                    <DisplayName>SubscriberCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>dd53826e-740f-4933-ad19-051818e9b45e</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>146</Width>
                <Height>239</Height>
              </Size>
              <Location>
                <X>1140</X>
                <Y>232</Y>
              </Location>
              <DisplayName>RTPStream</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-32768</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <CornerRounding>3</CornerRounding>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="DataObjType">
              <Name>Radio</Name>
              <Id>7584f5d6-c584-45c6-b2be-4f73aee7be34</Id>
              <Structure xsi:type="DataObjTypeStructure">
                <Id>b0f8b6df-e996-4b58-875f-af360db0c5a3</Id>
                <Types>
                  <anyType xsi:type="VariableType">
                    <Name>Status</Name>
                    <Id>d36a2363-d2d7-4e7a-8bf1-cd5e9e4fa41a</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>6d55fef4-a4d1-4b6d-a83e-b7a55ecd832f</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>7cca726c-c306-4375-8c9b-61c28fae2089</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>11</X>
                      <Y>42</Y>
                    </Location>
                    <DisplayName>Status</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>-1</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>Frequency</Name>
                    <Id>bd86015c-f576-4502-93e1-4b47cac78b53</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>ed9f7cca-769d-41a1-8794-4feb1daeb5fd</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>c3516718-323e-4424-be95-4a7d0d9d8239</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>12</X>
                      <Y>73</Y>
                    </Location>
                    <DisplayName>Frequency</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="Comment">
                    <Name>StatusTypes</Name>
                    <Id>bd0aaef9-4687-4002-bd9a-607516ad239c</Id>
                    <Structure xsi:type="CommentStructure">
                      <Id>4adbe3f6-0771-437c-bd40-763fb3a4d180</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>3a29f754-bc99-4f80-ab44-735a4416836c</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>153</Width>
                      <Height>54</Height>
                    </Size>
                    <Location>
                      <X>8</X>
                      <Y>104</Y>
                    </Location>
                    <DisplayName>StatusTypes: ASSIGNED 0 , RX 1, TX 2, RXTX 3, UNASSIGNED -1</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderStyle>Dash</BorderStyle>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>-64</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>XRIFRef</Name>
                    <Id>5cb282e8-ef68-4ced-9599-2533b174a8c2</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>1f30c8f8-defb-492f-a6f3-b741f57af73c</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>a5e65d16-09b7-40a1-997d-4c8c86475616</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>12</X>
                      <Y>166</Y>
                    </Location>
                    <DisplayName>XRIFRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Simulation.VCSsimContext.IRIFContext.XRIF</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>RAIFRef</Name>
                    <Id>11927046-9daf-4f18-886a-fcd5a1e169c7</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>23b2f709-4078-4fa8-a431-bb7e60179b3e</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>8b5d4109-a3ca-4be0-a929-21f45873b790</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>11</X>
                      <Y>194</Y>
                    </Location>
                    <DisplayName>RAIFRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>RAIF</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>RadioId</Name>
                    <Id>1ea5487a-c8d7-442f-ae9b-15c52f70d414</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>4ae99f40-9d84-4c84-b289-fa6d344d4722</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>114420f4-9f95-4ff3-9b60-0459fafda2a7</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>12</X>
                      <Y>15</Y>
                    </Location>
                    <DisplayName>RadioId</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>c7adff9c-f01b-43f3-b5cb-7115428f639e</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>176</Width>
                <Height>231</Height>
              </Size>
              <Location>
                <X>1292</X>
                <Y>234</Y>
              </Location>
              <DisplayName>Radio</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-32768</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <CornerRounding>3</CornerRounding>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="MethodSequence">
              <Name>NewMethodSequence3</Name>
              <Id>a9960e63-bb2a-4154-8064-f6ec0dd36b26</Id>
              <Structure xsi:type="MethodSequenceStructure">
                <Id>30f87478-e72d-4f51-9d30-ebf2617e5037</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>fa43e570-7096-46d9-a2c9-9ccc05a58224</Id>
                <Instructions>
                  <Instruction>
                    <Name>Trigger</Name>
                    <String>return !AssignRadio.isCompleted;
</String>
                  </Instruction>
                  <Instruction>
                    <Name>Transfer</Name>
                    <String>SetupSession.OpRequestRef = AssignRadio.OpRequestRef;
SetupSession.RAIFRef = AssignRadio.RAIF_APP.RAIF;</String>
                  </Instruction>
                  <Instruction>
                    <Name>Resolve</Name>
                    <String>return AssignRadio.OpRequestRef.ChannelRef.RadioRef.XRIFRef.XRIF_APPList[0];</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>136</Width>
                <Height>17</Height>
              </Size>
              <Location>
                <X>1055</X>
                <Y>645</Y>
              </Location>
              <DisplayName>NewMethodSequence3</DisplayName>
              <ShowName>false</ShowName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <LineProperties>
                <BorderColor>
                  <Argb>-16777024</Argb>
                </BorderColor>
                <BorderWidth>2</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <Role1>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Offset>
                    <X>118</X>
                    <Y>72</Y>
                  </Offset>
                </Role1>
                <Role2>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Icon>..\..\Icons\arrow.gif</Icon>
                  <Offset>
                    <X>0</X>
                    <Y>15</Y>
                  </Offset>
                </Role2>
              </LineProperties>
              <Role1Id>a7115268-6b23-41c4-8ce7-fe217ce68e15</Role1Id>
              <Role2Id>3eae5b69-2d20-4df4-85a5-00772c9db185</Role2Id>
            </anyType>
            <anyType xsi:type="ConnectorType">
              <Name>VCS</Name>
              <Id>bbf17bca-09a2-464b-995e-70cbcaedc671</Id>
              <Structure xsi:type="ConnectorTypeStructure">
                <Id>f85d97ba-af1a-4db5-876e-91417993ddcf</Id>
                <Types>
                  <anyType xsi:type="ConnectorType">
                    <Name>DIF</Name>
                    <Id>0ae48252-9a1d-4b19-98aa-aa30a93e5027</Id>
                    <Structure xsi:type="ConnectorTypeStructure">
                      <Id>545e4807-fb70-4f39-ae33-dc3428b5d9ef</Id>
                      <Types>
                        <anyType xsi:type="ComponentType">
                          <Name>DIF_APP</Name>
                          <Id>8f8d1350-8a12-4e28-b209-ae0dc92e0ecd</Id>
                          <Structure xsi:type="ComponentTypeStructure">
                            <Id>bc1b242a-7935-45ac-b71f-c1098cd9199a</Id>
                            <Types>
                              <anyType xsi:type="MethodType">
                                <Name>GetTimeSlot</Name>
                                <Id>28fe3831-383d-4c24-bc33-f9b823078f23</Id>
                                <Structure xsi:type="MethodTypeStructure">
                                  <Id>d1e1ac07-48e0-4b3b-8e40-462c2e92c043</Id>
                                  <Types>
                                    <anyType xsi:type="VariableType">
                                      <Name>OpRequestRef</Name>
                                      <Id>c05131c4-d286-4de7-9753-16fbd77401fc</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>2cef9234-e038-48b0-b652-d330303e7567</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>bc4e9bf8-e7c6-477e-a975-b2feb942fd61</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>14</X>
                                        <Y>21</Y>
                                      </Location>
                                      <DisplayName>OpRequestRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>OpRequest</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                  </Types>
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>51414303-329d-419c-b2bf-32a2187b0d21</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Run</Name>
                                      <String>if (DIF_APP.OpRequestQueue.Count &gt; 0)
{
	OpRequestRef = DIF_APP.OpRequestQueue.Dequeue();
	OpRequestRef.Status = "WIP";
	OpRequestRef.ChannelRef.RadioRef.RAIFRef.RAIF_APPList[0].OpRequestQueue.Enqueue(OpRequestRef);
}</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Duration</Name>
                                      <String>return DIF_APP.MethodDuration;
</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>140</Width>
                                  <Height>50</Height>
                                </Size>
                                <Location>
                                  <X>42</X>
                                  <Y>46</Y>
                                </Location>
                                <DisplayName>GetTimeSlot</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-16776961</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                  <CornerRounding>5</CornerRounding>
                                  <Alignment>TopCenter</Alignment>
                                </ShapeProperties>
                              </anyType>
                              <anyType xsi:type="VariableType">
                                <Name>OpRequestQueue</Name>
                                <Id>63d69b30-162a-46e1-950d-670782d2996e</Id>
                                <Structure xsi:type="VariableTypeStructure">
                                  <Id>dbf78bc7-cb3d-40cc-9e7a-3dddcf7b0af6</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>981e0147-b257-4e40-b3e2-c7d217810473</Id>
                                  <Instructions />
                                </Text>
                                <Size>
                                  <Width>113</Width>
                                  <Height>25</Height>
                                </Size>
                                <Location>
                                  <X>14</X>
                                  <Y>17</Y>
                                </Location>
                                <DisplayName>OpRequestQueue</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-4194304</Argb>
                                  </BorderColor>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                </ShapeProperties>
                                <ImplementationType>Queue&lt;OpRequest&gt;</ImplementationType>
                                <InitialValue>new Queue&lt;OpRequest&gt;()</InitialValue>
                              </anyType>
                              <anyType xsi:type="MethodType">
                                <Name>Choose</Name>
                                <Id>c3ea7eb8-7acf-4fdc-9367-f8baf27e2795</Id>
                                <Structure xsi:type="MethodTypeStructure">
                                  <Id>ee6d455f-6cc7-4fd3-a7f1-3f06f19d503c</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>6ab13d85-dc0b-42ff-a63b-2d99f209dd38</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Run</Name>
                                      <String />
                                    </Instruction>
                                    <Instruction>
                                      <Name>Duration</Name>
                                      <String>if (DIF_APP.OpRequestQueue.Count &gt; 0)
	return 0.001;
else
	return DIF_APP.MethodDuration/4;</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>140</Width>
                                  <Height>50</Height>
                                </Size>
                                <Location>
                                  <X>227</X>
                                  <Y>39</Y>
                                </Location>
                                <DisplayName>Choose</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-16776961</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                  <CornerRounding>5</CornerRounding>
                                  <Alignment>TopCenter</Alignment>
                                </ShapeProperties>
                              </anyType>
                              <anyType xsi:type="MethodSequence">
                                <Name>NewMethodSequence</Name>
                                <Id>1c3e18fe-70ef-48d2-95fe-b5bdb1b3a6f7</Id>
                                <Structure xsi:type="MethodSequenceStructure">
                                  <Id>4486f4bf-7a2d-453c-ade6-c1c34dc8c20c</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>d0181d80-f3db-41d3-bb28-0cad0cb37961</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Trigger</Name>
                                      <String>return true;
</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Transfer</Name>
                                      <String />
                                    </Instruction>
                                    <Instruction>
                                      <Name>Resolve</Name>
                                      <String>return Context;</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>45</Width>
                                  <Height>8</Height>
                                </Size>
                                <Location>
                                  <X>182</X>
                                  <Y>46</Y>
                                </Location>
                                <DisplayName>NewMethodSequence</DisplayName>
                                <ShowName>false</ShowName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <LineProperties>
                                  <BorderColor>
                                    <Argb>-16777024</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <Role1>
                                    <Font>
                                      <FontFamily>Segoe UI</FontFamily>
                                      <Size>9</Size>
                                      <Style>Regular</Style>
                                    </Font>
                                    <Offset>
                                      <X>0</X>
                                      <Y>15</Y>
                                    </Offset>
                                  </Role1>
                                  <Role2>
                                    <Font>
                                      <FontFamily>Segoe UI</FontFamily>
                                      <Size>9</Size>
                                      <Style>Regular</Style>
                                    </Font>
                                    <Icon>..\..\Icons\arrow.gif</Icon>
                                    <Offset>
                                      <X>140</X>
                                      <Y>0</Y>
                                    </Offset>
                                  </Role2>
                                </LineProperties>
                                <Role1Id>c3ea7eb8-7acf-4fdc-9367-f8baf27e2795</Role1Id>
                                <Role2Id>28fe3831-383d-4c24-bc33-f9b823078f23</Role2Id>
                              </anyType>
                              <anyType xsi:type="MethodSequence">
                                <Name>NewMethodSequence1</Name>
                                <Id>46f525e5-8a35-4746-a97e-d2f0299e1763</Id>
                                <Structure xsi:type="MethodSequenceStructure">
                                  <Id>28922891-1045-472a-80c5-00c9fa23fb80</Id>
                                  <Types />
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>768b0955-90f8-4ebf-8cb7-8116754a60db</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Trigger</Name>
                                      <String>return true;
</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Transfer</Name>
                                      <String />
                                    </Instruction>
                                    <Instruction>
                                      <Name>Resolve</Name>
                                      <String>return Context;</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>45</Width>
                                  <Height>7</Height>
                                </Size>
                                <Location>
                                  <X>182</X>
                                  <Y>89</Y>
                                </Location>
                                <DisplayName>NewMethodSequence1</DisplayName>
                                <ShowName>false</ShowName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <LineProperties>
                                  <BorderColor>
                                    <Argb>-16777024</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <Role1>
                                    <Font>
                                      <FontFamily>Segoe UI</FontFamily>
                                      <Size>9</Size>
                                      <Style>Regular</Style>
                                    </Font>
                                    <Offset>
                                      <X>140</X>
                                      <Y>50</Y>
                                    </Offset>
                                  </Role1>
                                  <Role2>
                                    <Font>
                                      <FontFamily>Segoe UI</FontFamily>
                                      <Size>9</Size>
                                      <Style>Regular</Style>
                                    </Font>
                                    <Icon>..\..\Icons\arrow.gif</Icon>
                                    <Offset>
                                      <X>0</X>
                                      <Y>50</Y>
                                    </Offset>
                                  </Role2>
                                </LineProperties>
                                <Role1Id>28fe3831-383d-4c24-bc33-f9b823078f23</Role1Id>
                                <Role2Id>c3ea7eb8-7acf-4fdc-9367-f8baf27e2795</Role2Id>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>757f7530-5f54-4775-8e44-eb8f9a002186</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Startup</Name>
                                <String />
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>210</Width>
                            <Height>105</Height>
                          </Size>
                          <Location>
                            <X>15</X>
                            <Y>22</Y>
                          </Location>
                          <DisplayName>DIF_APP</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>10</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16728064</Argb>
                            </BorderColor>
                            <BorderWidth>3</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="ConnectorType">
                          <Name>DSP</Name>
                          <Id>aeac49a7-8183-4e04-a3f6-33dc34401721</Id>
                          <Structure xsi:type="ConnectorTypeStructure">
                            <Id>64c1ca04-3b45-4f74-92d3-91afc10e957c</Id>
                            <Types>
                              <anyType xsi:type="MethodType">
                                <Name>TStoOP</Name>
                                <Id>acee9c08-6d65-426a-b11b-622adabcf0c3</Id>
                                <Structure xsi:type="MethodTypeStructure">
                                  <Id>a2076432-b742-4261-8dc7-f6b30558e6f6</Id>
                                  <Types>
                                    <anyType xsi:type="VariableType">
                                      <Name>OpRequestRef</Name>
                                      <Id>7aaf913d-cf09-461a-91b3-1f9c9f153480</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>bf832c4c-5397-40e0-b66d-36a735b3011b</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>60c264ca-3162-439a-bbb5-09d5272e3c1b</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>21</X>
                                        <Y>19</Y>
                                      </Location>
                                      <DisplayName>OpRequestRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>OpRequest</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                    <anyType xsi:type="VariableType">
                                      <Name>StreamRef</Name>
                                      <Id>4ac1ac59-634f-4133-b7f2-7f1e25e3acef</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>ec9e0fd3-e084-4388-8b48-5f7a8412fa52</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>7134df89-a12b-45cf-8cee-3fa15ae49151</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>22</X>
                                        <Y>46</Y>
                                      </Location>
                                      <DisplayName>StreamRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>VoiceStream</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                  </Types>
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>b7fc7ac6-f019-4430-94bc-417e00912390</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Run</Name>
                                      <String>// if stream not yet to operator dsp, create stream and notify DSP, otherwise just notify with existing stream dsp

VoiceStream vc = null;
if (DSP.DIF.ToOpVoice.TryGetValue(OpRequestRef.ChannelRef.RadioRef, out vc))
{
	StreamRef = vc;
	DomainProAnalyst.Instance.Report("DIF.DSP.TStoOP found existing RTFStream");
}
else
{
	vc = DSP.DIF.VCS.VCSsim.Create("VoiceStream") as VoiceStream;
	vc.DIFRef = DSP.DIF;
	vc.OperatorRef = OpRequestRef.OpSender.Operator;
	// lets see if the corresponding RTPStream already up (in RTP mode, not R2S), otherwise leave empty: peek into RAIF and get there ref from RTPStream
	Radio radio = OpRequestRef.ChannelRef.RadioRef;
	RTPStream rtp = null;
	if (radio.RAIFRef.RadioInRTPStreams.TryGetValue(radio, out rtp))
	{
		rtp.OpSubscribers.Add(OpRequestRef.OpSender.Operator);
		if (rtp.Mode.Equals("RTP"))
		{
			vc.RTPStreamRef = rtp;
		}
//		else
//		{			
//DomainProAnalyst.Instance.Report("DIF.DSP.TStoOP stream for Radio still in R2S mode: "+ rtp.RadioRef.RadioId);
//		}
	}
	else
	{
		// RAIF has not even assigned radio, let RAIF handle everything else
		vc.RTPStreamRef = null;
	}
	StreamRef = vc;
	DSP.DIF.ToOpVoice.Add(OpRequestRef.ChannelRef.RadioRef,StreamRef);
}
// call OperatorDSP with StreamRef
;</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Duration</Name>
                                      <String>return DSP.MethodDuration;

</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>140</Width>
                                  <Height>75</Height>
                                </Size>
                                <Location>
                                  <X>18</X>
                                  <Y>38</Y>
                                </Location>
                                <DisplayName>TStoOP</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-16776961</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                  <CornerRounding>5</CornerRounding>
                                  <Alignment>TopCenter</Alignment>
                                </ShapeProperties>
                              </anyType>
                              <anyType xsi:type="MethodType">
                                <Name>TSfromRAIF</Name>
                                <Id>99be16be-894f-446c-84d5-c350c5acc60e</Id>
                                <Structure xsi:type="MethodTypeStructure">
                                  <Id>9ad13fbb-9ddc-489b-905c-3093d10c96bd</Id>
                                  <Types>
                                    <anyType xsi:type="VariableType">
                                      <Name>OpRequestRef</Name>
                                      <Id>8adb00df-a019-4276-94c9-b4564ac0858d</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>c95b1dea-1409-4105-ab1f-0bcdfba835e6</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>9f9d9354-37e7-4d21-b82c-25952437859d</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>19</X>
                                        <Y>20</Y>
                                      </Location>
                                      <DisplayName>OpRequestRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>OpRequest</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                    <anyType xsi:type="VariableType">
                                      <Name>RTPStreamRef</Name>
                                      <Id>2e56ec31-6ccc-4017-90dc-4ddc431fc66e</Id>
                                      <Structure xsi:type="VariableTypeStructure">
                                        <Id>eff302ce-bfa3-4955-abc6-990b0d16b770</Id>
                                        <Types />
                                      </Structure>
                                      <Text xsi:type="DP_Text">
                                        <Id>8da8dcc0-ee45-4ab9-ae83-7cf8f7607461</Id>
                                        <Instructions />
                                      </Text>
                                      <Size>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                      </Size>
                                      <Location>
                                        <X>20</X>
                                        <Y>47</Y>
                                      </Location>
                                      <DisplayName>RTPStreamRef</DisplayName>
                                      <NameFont>
                                        <FontFamily>Segoe UI</FontFamily>
                                        <Size>9</Size>
                                        <Style>Regular</Style>
                                      </NameFont>
                                      <ShapeProperties>
                                        <DefaultSize>
                                          <Width>100</Width>
                                          <Height>60</Height>
                                        </DefaultSize>
                                        <BorderColor>
                                          <Argb>-4194304</Argb>
                                        </BorderColor>
                                        <FillColor>
                                          <Argb>0</Argb>
                                        </FillColor>
                                        <GradientFill>true</GradientFill>
                                        <GradientFillColor>
                                          <Argb>0</Argb>
                                        </GradientFillColor>
                                      </ShapeProperties>
                                      <ImplementationType>RTPStream</ImplementationType>
                                      <InitialValue>null</InitialValue>
                                    </anyType>
                                  </Types>
                                </Structure>
                                <Text xsi:type="DP_Text">
                                  <Id>b1d0c957-8a72-472b-ac02-0a3ebd78c6b5</Id>
                                  <Instructions>
                                    <Instruction>
                                      <Name>Run</Name>
                                      <String>if (!DSP.DIF.FromRAIFStream.ContainsKey(OpRequestRef.ChannelRef.RadioRef))
{
	DSP.DIF.FromRAIFStream.Add(OpRequestRef.ChannelRef.RadioRef, RTPStreamRef);
}

// and some VCS stuff - get DIF for operator and retreive VoiceStream from there
// as this is called only upon changes, we need to check all previous waiting subscribers also that there is now voice on the line
VoiceStream vc = null;
foreach(Operator op in RTPStreamRef.OpSubscribers)
{
	if (op.DIFRef.ToOpVoice.TryGetValue(OpRequestRef.ChannelRef.RadioRef, out vc))
	{
		if (vc.RTPStreamRef == null)
			vc.RTPStreamRef = RTPStreamRef;
	}
	else
	{
		DomainProAnalyst.Instance.Report("DIF.DSP.TSfromRAIF found RTFStream.Subscriber without waiting VoiceStream in corresponding DIF");
	}
}
// plus check this request, which might not be in the subscriber list
if (OpRequestRef.OpSender.Operator.DIFRef.ToOpVoice.TryGetValue(OpRequestRef.ChannelRef.RadioRef, out vc))
{
	if (vc.RTPStreamRef == null)
		vc.RTPStreamRef = RTPStreamRef;
}
else
{
	DomainProAnalyst.Instance.Report("DIF.DSP.TSfromRAIF called with OpRequest without waiting VoiceStream in corresponding DIF");
}</String>
                                    </Instruction>
                                    <Instruction>
                                      <Name>Duration</Name>
                                      <String>return DSP.MethodDuration;

</String>
                                    </Instruction>
                                  </Instructions>
                                </Text>
                                <Size>
                                  <Width>140</Width>
                                  <Height>75</Height>
                                </Size>
                                <Location>
                                  <X>215</X>
                                  <Y>37</Y>
                                </Location>
                                <DisplayName>TSfromRAIF</DisplayName>
                                <NameFont>
                                  <FontFamily>Segoe UI</FontFamily>
                                  <Size>9</Size>
                                  <Style>Regular</Style>
                                </NameFont>
                                <ShapeProperties>
                                  <DefaultSize>
                                    <Width>100</Width>
                                    <Height>60</Height>
                                  </DefaultSize>
                                  <BorderColor>
                                    <Argb>-16776961</Argb>
                                  </BorderColor>
                                  <BorderWidth>2</BorderWidth>
                                  <FillColor>
                                    <Argb>0</Argb>
                                  </FillColor>
                                  <GradientFill>true</GradientFill>
                                  <GradientFillColor>
                                    <Argb>0</Argb>
                                  </GradientFillColor>
                                  <CornerRounding>5</CornerRounding>
                                  <Alignment>TopCenter</Alignment>
                                </ShapeProperties>
                              </anyType>
                            </Types>
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>51983834-6b55-4cdc-8e09-e8d641edfef1</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Startup</Name>
                                <String />
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>376</Width>
                            <Height>123</Height>
                          </Size>
                          <Location>
                            <X>13</X>
                            <Y>167</Y>
                          </Location>
                          <DisplayName>DSP</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>10</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16760832</Argb>
                            </BorderColor>
                            <BorderWidth>3</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                            <Alignment>TopCenter</Alignment>
                          </ShapeProperties>
                        </anyType>
                        <anyType xsi:type="MethodSequence">
                          <Name>NewMethodSequence</Name>
                          <Id>f6ae80ec-7f36-4d39-8076-9fdbb05e2cbc</Id>
                          <Structure xsi:type="MethodSequenceStructure">
                            <Id>704538e4-a0ec-4167-bb38-c6f023791bf4</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>08fc6e59-f8e6-4349-a135-ea1e38d9de15</Id>
                            <Instructions>
                              <Instruction>
                                <Name>Trigger</Name>
                                <String>return GetTimeSlot.OpRequestRef != null;
</String>
                              </Instruction>
                              <Instruction>
                                <Name>Transfer</Name>
                                <String>TStoOP.OpRequestRef = GetTimeSlot.OpRequestRef;</String>
                              </Instruction>
                              <Instruction>
                                <Name>Resolve</Name>
                                <String>return GetTimeSlot.DIF_APP.DIF.DSPList[0];</String>
                              </Instruction>
                            </Instructions>
                          </Text>
                          <Size>
                            <Width>45</Width>
                            <Height>87</Height>
                          </Size>
                          <Location>
                            <X>132</X>
                            <Y>118</Y>
                          </Location>
                          <DisplayName>NewMethodSequence</DisplayName>
                          <ShowName>false</ShowName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <LineProperties>
                            <BorderColor>
                              <Argb>-16777024</Argb>
                            </BorderColor>
                            <BorderWidth>2</BorderWidth>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <Role1>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Offset>
                                <X>120</X>
                                <Y>50</Y>
                              </Offset>
                            </Role1>
                            <Role2>
                              <Font>
                                <FontFamily>Segoe UI</FontFamily>
                                <Size>9</Size>
                                <Style>Regular</Style>
                              </Font>
                              <Icon>..\..\Icons\arrow.gif</Icon>
                              <Offset>
                                <X>101</X>
                                <Y>0</Y>
                              </Offset>
                            </Role2>
                          </LineProperties>
                          <Role1Id>28fe3831-383d-4c24-bc33-f9b823078f23</Role1Id>
                          <Role2Id>acee9c08-6d65-426a-b11b-622adabcf0c3</Role2Id>
                        </anyType>
                        <anyType xsi:type="VariableType">
                          <Name>ToOpVoice</Name>
                          <Id>6330dca1-59b9-486d-b1ab-a3b3582b8431</Id>
                          <Structure xsi:type="VariableTypeStructure">
                            <Id>5e0d6070-162e-4769-b2e2-2ed0d75a866a</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>ec14be89-fea7-40e2-8ce3-841c88b530b0</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>77</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>20</X>
                            <Y>133</Y>
                          </Location>
                          <DisplayName>ToOpVoice</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-4194304</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>Dictionary&lt;Radio,VoiceStream&gt;</ImplementationType>
                          <InitialValue>new Dictionary&lt;Radio,VoiceStream&gt;()</InitialValue>
                        </anyType>
                        <anyType xsi:type="VariableType">
                          <Name>FromRAIFStream</Name>
                          <Id>f72a26d3-54ea-4eaf-a0f4-37d893c31bf9</Id>
                          <Structure xsi:type="VariableTypeStructure">
                            <Id>8110a13d-c734-413d-bb68-1955b32eeabe</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>d3e6682f-b060-4d46-8fae-8a7e97fe00bf</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>100</Width>
                            <Height>24</Height>
                          </Size>
                          <Location>
                            <X>289</X>
                            <Y>135</Y>
                          </Location>
                          <DisplayName>FromRAIFStream</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-4194304</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>Dictionary&lt;Radio,RTPStream&gt;</ImplementationType>
                          <InitialValue>new Dictionary&lt;Radio,RTPStream&gt;()</InitialValue>
                        </anyType>
                        <anyType xsi:type="SimMetricType">
                          <Name>StreamCount</Name>
                          <Id>90a1888c-d00e-482c-831e-d4d7a49899a8</Id>
                          <Structure xsi:type="SimMetricTypeStructure">
                            <Id>99ae2dc6-dca3-40a6-80f5-c0fced8d9068</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>8ea33e60-4c6a-4f6d-8701-3d2bd636767a</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>88</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>17</X>
                            <Y>304</Y>
                          </Location>
                          <DisplayName>StreamCount</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16777216</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>int</ImplementationType>
                          <InitialValue>0</InitialValue>
                        </anyType>
                        <anyType xsi:type="SimMetricType">
                          <Name>OpRequestQueueCount</Name>
                          <Id>764ac669-7fa7-4ca1-80a6-114858b9c935</Id>
                          <Structure xsi:type="SimMetricTypeStructure">
                            <Id>378b8d9f-0769-49a2-b80c-fc5a560837f1</Id>
                            <Types />
                          </Structure>
                          <Text xsi:type="DP_Text">
                            <Id>2ba8216c-8018-40a0-8891-7a5a5cdbe7b8</Id>
                            <Instructions />
                          </Text>
                          <Size>
                            <Width>147</Width>
                            <Height>25</Height>
                          </Size>
                          <Location>
                            <X>112</X>
                            <Y>304</Y>
                          </Location>
                          <DisplayName>OpRequestQueueCount</DisplayName>
                          <NameFont>
                            <FontFamily>Segoe UI</FontFamily>
                            <Size>9</Size>
                            <Style>Regular</Style>
                          </NameFont>
                          <ShapeProperties>
                            <DefaultSize>
                              <Width>100</Width>
                              <Height>60</Height>
                            </DefaultSize>
                            <BorderColor>
                              <Argb>-16777216</Argb>
                            </BorderColor>
                            <FillColor>
                              <Argb>0</Argb>
                            </FillColor>
                            <GradientFill>true</GradientFill>
                            <GradientFillColor>
                              <Argb>0</Argb>
                            </GradientFillColor>
                          </ShapeProperties>
                          <ImplementationType>int</ImplementationType>
                          <InitialValue>0</InitialValue>
                        </anyType>
                      </Types>
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>ff472d12-3137-4a23-a3f3-0e98e04972a3</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Startup</Name>
                          <String />
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>396</Width>
                      <Height>303</Height>
                    </Size>
                    <Location>
                      <X>10</X>
                      <Y>29</Y>
                    </Location>
                    <DisplayName>DIF</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>10</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16760832</Argb>
                      </BorderColor>
                      <BorderWidth>3</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>f2a45e92-c158-4f6c-bdcf-22abc0d11484</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>416</Width>
                <Height>344</Height>
              </Size>
              <Location>
                <X>714</X>
                <Y>58</Y>
              </Location>
              <DisplayName>VCS</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-16760832</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="MethodSequence">
              <Name>NewMethodSequence6</Name>
              <Id>2a6ac00d-629c-480b-b9b0-920aee00098d</Id>
              <Structure xsi:type="MethodSequenceStructure">
                <Id>28f66b3c-bbee-4535-b5a8-bcb9b6dc4dc1</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>77369f49-a65e-4c35-b094-be3df4a52326</Id>
                <Instructions>
                  <Instruction>
                    <Name>Trigger</Name>
                    <String>return TStoOP.StreamRef != null;
</String>
                  </Instruction>
                  <Instruction>
                    <Name>Transfer</Name>
                    <String>ReceiveStream.OpRequestRef = TStoOP.OpRequestRef;
ReceiveStream.StreamRef = TStoOP.StreamRef;</String>
                  </Instruction>
                  <Instruction>
                    <Name>Resolve</Name>
                    <String>return TStoOP.OpRequestRef.OpSender.Operator.DSPList[0];</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>306</Width>
                <Height>66</Height>
              </Size>
              <Location>
                <X>449</X>
                <Y>322</Y>
              </Location>
              <DisplayName>NewMethodSequence6</DisplayName>
              <ShowName>false</ShowName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <LineProperties>
                <BorderColor>
                  <Argb>-16777024</Argb>
                </BorderColor>
                <BorderWidth>2</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <Role1>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Offset>
                    <X>0</X>
                    <Y>30</Y>
                  </Offset>
                </Role1>
                <Role2>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Icon>..\..\Icons\arrow.gif</Icon>
                  <Offset>
                    <X>140</X>
                    <Y>18</Y>
                  </Offset>
                </Role2>
              </LineProperties>
              <Role1Id>acee9c08-6d65-426a-b11b-622adabcf0c3</Role1Id>
              <Role2Id>30ee2336-4f42-44be-afa3-86d8cf796008</Role2Id>
            </anyType>
            <anyType xsi:type="MethodSequence">
              <Name>NewMethodSequence7</Name>
              <Id>db427788-6b39-42c3-8383-59e560ded9f8</Id>
              <Structure xsi:type="MethodSequenceStructure">
                <Id>973fda78-a50f-4053-ab0b-bf78a7f327cc</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>4af40a47-274a-408f-a710-7efe92329ed8</Id>
                <Instructions>
                  <Instruction>
                    <Name>Trigger</Name>
                    <String>return !RxRadio.isCompleted;
</String>
                  </Instruction>
                  <Instruction>
                    <Name>Transfer</Name>
                    <String>SetRadioToRx.OpRequestRef = RxRadio.OpRequestRef;
SetRadioToRx.RAIFRef = RxRadio.RAIF_APP.RAIF;</String>
                  </Instruction>
                  <Instruction>
                    <Name>Resolve</Name>
                    <String>return RxRadio.OpRequestRef.ChannelRef.RadioRef.XRIFRef.XRIF_APPList[0];</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>238</Width>
                <Height>19</Height>
              </Size>
              <Location>
                <X>1053</X>
                <Y>523</Y>
              </Location>
              <DisplayName>NewMethodSequence7</DisplayName>
              <ShowName>false</ShowName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <LineProperties>
                <BorderColor>
                  <Argb>-16777024</Argb>
                </BorderColor>
                <BorderWidth>2</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <Role1>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Offset>
                    <X>111</X>
                    <Y>35</Y>
                  </Offset>
                </Role1>
                <Role2>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Icon>..\..\Icons\arrow.gif</Icon>
                  <Offset>
                    <X>0</X>
                    <Y>0</Y>
                  </Offset>
                </Role2>
              </LineProperties>
              <Role1Id>40ac9838-9992-4ec7-938c-b4ad74b3891b</Role1Id>
              <Role2Id>eb45f3da-7ebd-4d81-91cd-4fa4e9e2a711</Role2Id>
            </anyType>
            <anyType xsi:type="MethodSequence">
              <Name>NewMethodSequence8</Name>
              <Id>b1282835-a778-42eb-844e-898a6c4b14a4</Id>
              <Structure xsi:type="MethodSequenceStructure">
                <Id>bc9eebe6-7120-48dd-94e6-c8172e5542db</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>15a4a99a-ea6a-4e36-b773-dbea6e2d398f</Id>
                <Instructions>
                  <Instruction>
                    <Name>Trigger</Name>
                    <String>return StartRTP.RAIFRef != null &amp;&amp; StartRTP.RTPStreamRef != null &amp;&amp; StartRTP.OpRequestRef != null;


</String>
                  </Instruction>
                  <Instruction>
                    <Name>Transfer</Name>
                    <String>ReceiveRTP.OpRequestRef = StartRTP.OpRequestRef;
ReceiveRTP.RTPStreamRef = StartRTP.RTPStreamRef;</String>
                  </Instruction>
                  <Instruction>
                    <Name>Resolve</Name>
                    <String>return StartRTP.RAIFRef.DSPList[0];</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>402</Width>
                <Height>16</Height>
              </Size>
              <Location>
                <X>887</X>
                <Y>896</Y>
              </Location>
              <DisplayName>NewMethodSequence8</DisplayName>
              <ShowName>false</ShowName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <LineProperties>
                <BorderColor>
                  <Argb>-16777024</Argb>
                </BorderColor>
                <BorderWidth>2</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <Role1>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Offset>
                    <X>0</X>
                    <Y>57</Y>
                  </Offset>
                </Role1>
                <Role2>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Icon>..\..\Icons\arrow.gif</Icon>
                  <Offset>
                    <X>122</X>
                    <Y>41</Y>
                  </Offset>
                </Role2>
              </LineProperties>
              <Role1Id>5dcbaf32-4ce6-4a5d-a0b5-f48b76e5d455</Role1Id>
              <Role2Id>18d4e839-a2cf-48ed-8d73-f0e06457f933</Role2Id>
            </anyType>
            <anyType xsi:type="DataObjType">
              <Name>VoiceStream</Name>
              <Id>5fbf539c-d4ff-418f-a5ad-db1dd3bdb2a3</Id>
              <Structure xsi:type="DataObjTypeStructure">
                <Id>96147d77-09cc-4ca1-8e43-2d32169cbb94</Id>
                <Types>
                  <anyType xsi:type="VariableType">
                    <Name>RTPStreamRef</Name>
                    <Id>fb205079-533e-4cab-b40a-90c31a466420</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>fb68dab7-0f86-4cbf-a62d-3acaa01daa9e</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>545c90d3-b356-4180-882c-be5dc3ad4821</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>19</X>
                      <Y>115</Y>
                    </Location>
                    <DisplayName>RTPStreamRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>RTPStream</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>OperatorRef</Name>
                    <Id>f38fbeee-736d-4a88-ab39-ff271419f4f6</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>3437ef96-9185-4447-96f9-8dbba81f74eb</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>0f6bf383-aa17-427d-aa0c-95740a4ef610</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>19</X>
                      <Y>52</Y>
                    </Location>
                    <DisplayName>OperatorRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Operator</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>DIFRef</Name>
                    <Id>a4f069f8-a83d-487a-81c1-a053a03e5e2d</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>cf1f8f05-442c-41c9-a2d9-c45fb82f9041</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>a827ea35-68bd-455b-b6dc-19e8ae73c2a2</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>19</X>
                      <Y>21</Y>
                    </Location>
                    <DisplayName>DIFRef</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>Simulation.VCSsimContext.VCSContext.DIF</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>StreamId</Name>
                    <Id>3e6f1283-f1f3-4f43-a147-b109b6e6cba8</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>4faa84b4-5b0c-43c7-885f-d2f88aaa6c2c</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>c3a8b7b8-3f0d-49e3-a05d-932881e63555</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>20</X>
                      <Y>83</Y>
                    </Location>
                    <DisplayName>StreamId</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>String</ImplementationType>
                    <InitialValue>null</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>6385c093-19e2-46a5-8901-0c14d39339e3</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>142</Width>
                <Height>157</Height>
              </Size>
              <Location>
                <X>546</X>
                <Y>167</Y>
              </Location>
              <DisplayName>VoiceStream</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-32768</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <CornerRounding>3</CornerRounding>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="MethodSequence">
              <Name>NewMethodSequence4</Name>
              <Id>4c5403a9-0984-4786-9ec6-7a3abce8c3ac</Id>
              <Structure xsi:type="MethodSequenceStructure">
                <Id>2b960740-0ec5-49db-8e20-e25b3f51144e</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>af81b8d4-2663-411b-8e18-6ebed8fbdb7e</Id>
                <Instructions>
                  <Instruction>
                    <Name>Trigger</Name>
                    <String>return RxOk.OpRequestRef != null;
</String>
                  </Instruction>
                  <Instruction>
                    <Name>Transfer</Name>
                    <String>ChannelUpdated.OpRequestRef = RxOk.OpRequestRef;</String>
                  </Instruction>
                  <Instruction>
                    <Name>Resolve</Name>
                    <String>return RxOk.OpRequestRef.OpSender;</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>322</Width>
                <Height>138</Height>
              </Size>
              <Location>
                <X>445</X>
                <Y>521</Y>
              </Location>
              <DisplayName>NewMethodSequence4</DisplayName>
              <ShowName>false</ShowName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <LineProperties>
                <BorderColor>
                  <Argb>-16777024</Argb>
                </BorderColor>
                <BorderWidth>2</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <Role1>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Offset>
                    <X>0</X>
                    <Y>0</Y>
                  </Offset>
                </Role1>
                <Role2>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Icon>..\..\Icons\arrow.gif</Icon>
                  <Offset>
                    <X>142</X>
                    <Y>28</Y>
                  </Offset>
                </Role2>
              </LineProperties>
              <Role1Id>2105b62e-521a-4d68-b707-8e2231c1a045</Role1Id>
              <Role2Id>7922232a-2ec3-444f-a8ec-63a6a8eda66f</Role2Id>
            </anyType>
            <anyType xsi:type="DataObjType">
              <Name>ChannelGroupConfig</Name>
              <Id>b9b98a6f-1deb-4b03-a875-b5bbda1a7182</Id>
              <Structure xsi:type="DataObjTypeStructure">
                <Id>05a2fc34-f646-46b6-9e85-3c9df1863afd</Id>
                <Types>
                  <anyType xsi:type="VariableType">
                    <Name>MainChannels</Name>
                    <Id>bba16e6e-5463-46f9-99b9-e3a5ed49ba4f</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>ecef8466-539d-4d33-8dc2-d81035f0d9aa</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>3757c6b4-a88a-493d-b60d-fed31922a29f</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>26</X>
                      <Y>24</Y>
                    </Location>
                    <DisplayName>MainChannels</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>List&lt;int&gt;</ImplementationType>
                    <InitialValue>new List&lt;int&gt;()</InitialValue>
                  </anyType>
                  <anyType xsi:type="VariableType">
                    <Name>BackupChannels</Name>
                    <Id>6686e9b3-4026-4c9b-8586-d369d816e7bf</Id>
                    <Structure xsi:type="VariableTypeStructure">
                      <Id>5faed56e-5253-4314-9a6c-e6f803fbe2a1</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>d4e19310-a932-4ec3-b2a3-c0341aa398a8</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>26</X>
                      <Y>53</Y>
                    </Location>
                    <DisplayName>BackupChannels</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-4194304</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>List&lt;int&gt;</ImplementationType>
                    <InitialValue>new List&lt;int&gt;()</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>fa091d69-dbcb-42e7-bae6-0d7dbc9099e0</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>156</Width>
                <Height>94</Height>
              </Size>
              <Location>
                <X>53</X>
                <Y>1072</Y>
              </Location>
              <DisplayName>ChannelGroupConfig</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-32768</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <CornerRounding>3</CornerRounding>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="VariableType">
              <Name>ChannelGroupAssignment</Name>
              <Id>a157f2cc-a62d-48f6-8616-1730f38fcbea</Id>
              <Structure xsi:type="VariableTypeStructure">
                <Id>686b788f-b594-4e09-8519-f4a51e0de360</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>dad65ea6-0e62-49db-b17e-96ee00fc6c0c</Id>
                <Instructions />
              </Text>
              <Size>
                <Width>154</Width>
                <Height>25</Height>
              </Size>
              <Location>
                <X>56</X>
                <Y>1173</Y>
              </Location>
              <DisplayName>ChannelGroupAssignment</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-4194304</Argb>
                </BorderColor>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
              </ShapeProperties>
              <ImplementationType>List&lt;List&lt;int&gt;&gt;</ImplementationType>
              <InitialValue>new List&lt;List&lt;int&gt;&gt;()</InitialValue>
            </anyType>
            <anyType xsi:type="DataObjType">
              <Name>SimStats</Name>
              <Id>889e4c06-61bf-4b67-a8b4-d9fb2e2b5643</Id>
              <Structure xsi:type="DataObjTypeStructure">
                <Id>2465c531-530d-4a65-942e-cad919cfeb94</Id>
                <Types>
                  <anyType xsi:type="MethodType">
                    <Name>Calc</Name>
                    <Id>e36dd8b1-f330-4ff0-8f62-98e53ca24400</Id>
                    <Structure xsi:type="MethodTypeStructure">
                      <Id>81b0a6b8-9388-4af2-aec9-2af329c1cd7f</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>9dea8a02-120d-4bcf-8f6c-a8f79d68d946</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Run</Name>
                          <String>foreach(Simulation.VCSsimContext.RAIF raif in SimStats.VCSsim.RAIFList)
{
	int prevSize = raif.ReqQueueCount;
	int newSize = raif.RAIF_APPList[0].OpRequestQueue.Count;
	if (prevSize != newSize)
		raif.ReqQueueCount = newSize;

	if (raif.RTPStreamCount != raif.RadioInRTPStreams.Count)
		raif.RTPStreamCount = raif.RadioInRTPStreams.Count;
	int subC = 0;
	foreach(RTPStream stream in raif.RadioInRTPStreams.Values)
	{
		subC+=stream.OpSubscribers.Count;
	}
	if (raif.SubscriptionCount != subC)
		raif.SubscriptionCount = subC;
}

int countR2S = 0;
int countRTP = 0;
foreach(RTPStream stream in SimStats.VCSsim.RTPStreamList)
{
	if (stream.SubscriberCount != stream.OpSubscribers.Count)
		stream.SubscriberCount = stream.OpSubscribers.Count;

	if (stream.Mode.Equals("R2S"))
		countR2S++;
	else
		countRTP++;
}
if (SimStats.R2SStreamCount != countR2S)
	SimStats.R2SStreamCount = countR2S;
if (SimStats.RTPStreamCount != countRTP)
	SimStats.RTPStreamCount = countRTP;



int countWIP = 0;
int countSUCC = 0;
int countFAIL = 0;
int countOPEN = 0;
foreach(OpRequest req in SimStats.VCSsim.OpRequestList)
{
	if (req.Status.Equals("WIP"))
		countWIP++;
	else 	if (req.Status.Equals("OPEN"))
		countOPEN++;
	else	if (req.Status.Equals("SUCCESS"))
		countSUCC++;
	else 	if (req.Status.Equals("FAILED"))
		countFAIL++;
}
if (SimStats.OpRequestWIPCount != countWIP)
	SimStats.OpRequestWIPCount = countWIP;
if (SimStats.OpRequestOPENCount != countOPEN)
	SimStats.OpRequestOPENCount = countOPEN;
if (SimStats.OpRequestSUCCESSCount != countSUCC)
	SimStats.OpRequestSUCCESSCount = countSUCC;
if (SimStats.OpRequestFAILURECount != countFAIL)
	SimStats.OpRequestFAILURECount = countFAIL;

foreach(Operator op in SimStats.VCSsim.OperatorList)
{
	if (op.StreamsIn.Count != op.InStreamCount)
		op.InStreamCount = op.StreamsIn.Count;
	int silentCount = 0;
	foreach(VoiceStream vc in op.StreamsIn.Values)
	{
		if (vc.RTPStreamRef == null)
			silentCount++;
	}
	if (op.SilentStreamCount != silentCount)
		op.SilentStreamCount = silentCount;
}
// overall silent count:
int allSilentCount = 0;
foreach(VoiceStream vc in SimStats.VCSsim.VoiceStreamList)
{
	if (vc.RTPStreamRef == null)
		allSilentCount++;
}
if (SimStats.SilentStreamCount != allSilentCount)
	SimStats.SilentStreamCount = allSilentCount;



foreach(Simulation.VCSsimContext.VCSContext.DIF dif in SimStats.VCSsim.VCSList[0].DIFList)
{
	int countAll = dif.ToOpVoice.Count + dif.FromRAIFStream.Count;
	if (dif.StreamCount != countAll)
		dif.StreamCount = countAll;
	if (dif.OpRequestQueueCount != dif.DIF_APPList[0].OpRequestQueue.Count)
		dif.OpRequestQueueCount = dif.DIF_APPList[0].OpRequestQueue.Count;
}</String>
                        </Instruction>
                        <Instruction>
                          <Name>Duration</Name>
                          <String>return 0;
</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>84</Width>
                      <Height>50</Height>
                    </Size>
                    <Location>
                      <X>22</X>
                      <Y>29</Y>
                    </Location>
                    <DisplayName>Calc</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16776961</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <CornerRounding>5</CornerRounding>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="MethodType">
                    <Name>Idle</Name>
                    <Id>c1fa9b59-e202-4683-9614-54c5c51ad9d6</Id>
                    <Structure xsi:type="MethodTypeStructure">
                      <Id>7448a777-86f5-4917-a47d-dabe699d4f64</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>69d755ac-b9d9-44c3-8163-755f6773bd18</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Run</Name>
                          <String />
                        </Instruction>
                        <Instruction>
                          <Name>Duration</Name>
                          <String>return SimStats.MethodDuration;
</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>86</Width>
                      <Height>50</Height>
                    </Size>
                    <Location>
                      <X>181</X>
                      <Y>29</Y>
                    </Location>
                    <DisplayName>Idle</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16776961</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <CornerRounding>5</CornerRounding>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="MethodSequence">
                    <Name>NewMethodSequence</Name>
                    <Id>0f937147-4319-4c8b-afc3-9c28a4c62ba2</Id>
                    <Structure xsi:type="MethodSequenceStructure">
                      <Id>41efd7bc-5ca1-4d1e-a08a-f1ef52dae191</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>a23cfe55-af62-429a-b33f-0c0eda6f27b5</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Trigger</Name>
                          <String>return true;
</String>
                        </Instruction>
                        <Instruction>
                          <Name>Transfer</Name>
                          <String />
                        </Instruction>
                        <Instruction>
                          <Name>Resolve</Name>
                          <String>return Context;</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>75</Width>
                      <Height>2</Height>
                    </Size>
                    <Location>
                      <X>106</X>
                      <Y>47</Y>
                    </Location>
                    <DisplayName>NewMethodSequence</DisplayName>
                    <ShowName>false</ShowName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <LineProperties>
                      <BorderColor>
                        <Argb>-16777024</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <Role1>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Offset>
                          <X>0</X>
                          <Y>20</Y>
                        </Offset>
                      </Role1>
                      <Role2>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Icon>..\..\Icons\arrow.gif</Icon>
                        <Offset>
                          <X>84</X>
                          <Y>18</Y>
                        </Offset>
                      </Role2>
                    </LineProperties>
                    <Role1Id>c1fa9b59-e202-4683-9614-54c5c51ad9d6</Role1Id>
                    <Role2Id>e36dd8b1-f330-4ff0-8f62-98e53ca24400</Role2Id>
                  </anyType>
                  <anyType xsi:type="MethodSequence">
                    <Name>NewMethodSequence1</Name>
                    <Id>e87a46dc-04cc-43cd-96aa-c03a302a1a76</Id>
                    <Structure xsi:type="MethodSequenceStructure">
                      <Id>d37d93bf-36a2-4fec-bc13-e1712775a45b</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>1e12afe2-d1ee-47ea-8ee0-e643ff1cbe79</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Trigger</Name>
                          <String>return true;
</String>
                        </Instruction>
                        <Instruction>
                          <Name>Transfer</Name>
                          <String />
                        </Instruction>
                        <Instruction>
                          <Name>Resolve</Name>
                          <String>return Context;</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>75</Width>
                      <Height>0</Height>
                    </Size>
                    <Location>
                      <X>106</X>
                      <Y>79</Y>
                    </Location>
                    <DisplayName>NewMethodSequence1</DisplayName>
                    <ShowName>false</ShowName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <LineProperties>
                      <BorderColor>
                        <Argb>-16777024</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <Role1>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Offset>
                          <X>84</X>
                          <Y>50</Y>
                        </Offset>
                      </Role1>
                      <Role2>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Icon>..\..\Icons\arrow.gif</Icon>
                        <Offset>
                          <X>0</X>
                          <Y>50</Y>
                        </Offset>
                      </Role2>
                    </LineProperties>
                    <Role1Id>e36dd8b1-f330-4ff0-8f62-98e53ca24400</Role1Id>
                    <Role2Id>c1fa9b59-e202-4683-9614-54c5c51ad9d6</Role2Id>
                  </anyType>
                  <anyType xsi:type="MethodType">
                    <Name>TestAllConstraints</Name>
                    <Id>357417da-ac2b-4de2-8ad0-8f9f7d956f44</Id>
                    <Structure xsi:type="MethodTypeStructure">
                      <Id>48a3365d-78d0-49ac-9f94-0c95c80f9196</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>32f30929-2e2b-40e0-bf76-4f07264c91e6</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Run</Name>
                          <String>VCSsim sim = SimStats.VCSsim;
foreach(Radio r in sim.RadioList)
{
	if (r.XRIFRef == null)
		DomainProAnalyst.Instance.Report("Radio.XRIFRef == null for id: "+r.RadioId);
	if (r.RAIFRef == null)
		DomainProAnalyst.Instance.Report("Radio.RAIFRef == null for id: "+r.RadioId);	
}
DomainProAnalyst.Instance.Report("Checked # Radios: "+sim.RadioList.Count);

foreach(Channel ch in sim.ChannelList)
{
	if (ch.RadioRef == null)
		DomainProAnalyst.Instance.Report("Channel.RadioRef == null");
}
DomainProAnalyst.Instance.Report("Checked # Channels: "+sim.ChannelList.Count);

foreach(ChannelGroup cg in sim.ChannelGroupList)
{
	if (cg.MainChannelRefs.Count == 0)
		DomainProAnalyst.Instance.Report("ChannelGroup.MainChannelRefs == empty");

}
DomainProAnalyst.Instance.Report("Checked # ChannelGroups: "+sim.ChannelGroupList.Count);
int xrifCount = 0;
foreach(Simulation.VCSsimContext.IRIF irif in sim.IRIFList)
{
	foreach(Simulation.VCSsimContext.IRIFContext.XRIF xrif in irif.XRIFList)
	{
		xrifCount++;
		if (xrif.RadioRef == null)
			DomainProAnalyst.Instance.Report("XRIF.RadioRef == null");
		else
		{
			if (xrif.RadioRef.XRIFRef == null)
				DomainProAnalyst.Instance.Report("XRIF points to Radio, but not back for radioId: "+xrif.RadioRef.RadioId);
		}
	}
}
DomainProAnalyst.Instance.Report("Checked # XRIFs: "+xrifCount);

int opCount = 0;
foreach(Operator op in sim.OperatorList)
{
	if (op.DIFRef == null)
	{	
		DomainProAnalyst.Instance.Report("Operator has not DIFRef, operator index: "+opCount);
	}
	opCount++;
}
DomainProAnalyst.Instance.Report("Checked # Operator.DIFRefs: "+opCount);

int raifCount = 0;
foreach(RAIF raif in sim.RAIFList)
{
	if (raif.DIFRef == null)
	{	
		DomainProAnalyst.Instance.Report("RAIF has no DIFRef, raif index: "+raifCount);
	}
	raifCount++;
}
DomainProAnalyst.Instance.Report("Checked # RAIF.DIFRefs: "+raifCount);</String>
                        </Instruction>
                        <Instruction>
                          <Name>Duration</Name>
                          <String>return 0;
</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>140</Width>
                      <Height>50</Height>
                    </Size>
                    <Location>
                      <X>295</X>
                      <Y>27</Y>
                    </Location>
                    <DisplayName>TestAllConstraints</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16776961</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <CornerRounding>5</CornerRounding>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>RTPStreamCount</Name>
                    <Id>d14ec103-0cf8-443e-9145-73dfedfd76b0</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>d7bb35e6-5f2a-4174-9a67-d9300585c375</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>6a0bc412-c86a-43d1-82a6-5a1b354e4549</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>24</X>
                      <Y>95</Y>
                    </Location>
                    <DisplayName>RTPStreamCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>OpRequestWIPCount</Name>
                    <Id>db652545-cbf4-4130-a93e-bd2ddbc70c49</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>76db2162-89fa-4429-b975-edd960052e9c</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>40e05298-e559-4065-a45d-d74e49da05a4</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>164</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>157</X>
                      <Y>125</Y>
                    </Location>
                    <DisplayName>OpRequestWIPCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>R2SStreamCount</Name>
                    <Id>35b8a451-f9e6-44ec-a8e7-05695a574a2b</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>3694aab6-b400-4dd8-807f-efb651d4f277</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>93761a9a-a25b-4734-b680-7b60ca96e585</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>100</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>24</X>
                      <Y>124</Y>
                    </Location>
                    <DisplayName>R2SStreamCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>OpRequestSUCCESSCount</Name>
                    <Id>41f5e4ff-213b-492d-9ff3-735454f3802b</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>86d31997-f85c-49b3-9ed3-ee24816494cf</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>d4b13cfc-ea63-471c-8691-1c573373fd10</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>164</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>156</X>
                      <Y>152</Y>
                    </Location>
                    <DisplayName>OpRequestSUCCESSCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>OpRequestOPENCount</Name>
                    <Id>edf09f4c-2b6e-409c-99b8-4f331e89d58a</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>642f7e10-73c7-45ec-b292-d5ea3afc68af</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>b53c6d7e-96ea-4dea-892a-269314a7b363</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>168</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>156</X>
                      <Y>100</Y>
                    </Location>
                    <DisplayName>OpRequestOPENCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>OpRequestFAILURECount</Name>
                    <Id>126a9a58-9cc8-4835-bd4a-d163e8f123ed</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>d12aba70-3d40-4026-9b55-f0ea4e773755</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>7d29dbe7-2489-4065-af49-be964319056f</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>164</Width>
                      <Height>25</Height>
                    </Size>
                    <Location>
                      <X>155</X>
                      <Y>179</Y>
                    </Location>
                    <DisplayName>OpRequestFAILURECount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                  <anyType xsi:type="MethodType">
                    <Name>TriggerAllDIFs</Name>
                    <Id>2f6da81c-7ad8-4ce7-9d84-837e8971a85e</Id>
                    <Structure xsi:type="MethodTypeStructure">
                      <Id>a5192f6a-150f-4ef3-a638-c060b55d310e</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>1743571f-226e-4e48-bca1-21a072ceb79b</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Run</Name>
                          <String>foreach(VCS vcs in SimStats.VCSsim.VCSList)
{
	foreach(Simulation.VCSsimContext.VCSContext.DIF dif in vcs.DIFList)
	{
		dif.DIF_APPList[0].Choose(false);
	}
}</String>
                        </Instruction>
                        <Instruction>
                          <Name>Duration</Name>
                          <String>return 0;
</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>104</Width>
                      <Height>50</Height>
                    </Size>
                    <Location>
                      <X>338</X>
                      <Y>119</Y>
                    </Location>
                    <DisplayName>TriggerAllDIFs</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16776961</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                      <CornerRounding>5</CornerRounding>
                      <Alignment>TopCenter</Alignment>
                    </ShapeProperties>
                  </anyType>
                  <anyType xsi:type="MethodSequence">
                    <Name>NewMethodSequence2</Name>
                    <Id>6e6a166c-87c7-4599-867e-b1c1e25790c6</Id>
                    <Structure xsi:type="MethodSequenceStructure">
                      <Id>6d1239c7-05a1-44c8-84c0-f198be9bbd74</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>d10e320c-4b2f-4fed-b999-f457c1304c9e</Id>
                      <Instructions>
                        <Instruction>
                          <Name>Trigger</Name>
                          <String>return true;
</String>
                        </Instruction>
                        <Instruction>
                          <Name>Transfer</Name>
                          <String />
                        </Instruction>
                        <Instruction>
                          <Name>Resolve</Name>
                          <String>return Context;</String>
                        </Instruction>
                      </Instructions>
                    </Text>
                    <Size>
                      <Width>2</Width>
                      <Height>42</Height>
                    </Size>
                    <Location>
                      <X>397</X>
                      <Y>77</Y>
                    </Location>
                    <DisplayName>NewMethodSequence2</DisplayName>
                    <ShowName>false</ShowName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <LineProperties>
                      <BorderColor>
                        <Argb>-16777024</Argb>
                      </BorderColor>
                      <BorderWidth>2</BorderWidth>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <Role1>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Offset>
                          <X>104</X>
                          <Y>50</Y>
                        </Offset>
                      </Role1>
                      <Role2>
                        <Font>
                          <FontFamily>Segoe UI</FontFamily>
                          <Size>9</Size>
                          <Style>Regular</Style>
                        </Font>
                        <Icon>..\..\Icons\arrow.gif</Icon>
                        <Offset>
                          <X>59</X>
                          <Y>0</Y>
                        </Offset>
                      </Role2>
                    </LineProperties>
                    <Role1Id>357417da-ac2b-4de2-8ad0-8f9f7d956f44</Role1Id>
                    <Role2Id>2f6da81c-7ad8-4ce7-9d84-837e8971a85e</Role2Id>
                  </anyType>
                  <anyType xsi:type="SimMetricType">
                    <Name>SilentStreamCount</Name>
                    <Id>728de42d-d71e-4eab-aa6a-35d6c88f695b</Id>
                    <Structure xsi:type="SimMetricTypeStructure">
                      <Id>858b6519-a89e-45c9-9586-c2b0385fb469</Id>
                      <Types />
                    </Structure>
                    <Text xsi:type="DP_Text">
                      <Id>774b043c-70bb-40b9-ba25-b8066af957ba</Id>
                      <Instructions />
                    </Text>
                    <Size>
                      <Width>111</Width>
                      <Height>22</Height>
                    </Size>
                    <Location>
                      <X>22</X>
                      <Y>153</Y>
                    </Location>
                    <DisplayName>SilentStreamCount</DisplayName>
                    <NameFont>
                      <FontFamily>Segoe UI</FontFamily>
                      <Size>9</Size>
                      <Style>Regular</Style>
                    </NameFont>
                    <ShapeProperties>
                      <DefaultSize>
                        <Width>100</Width>
                        <Height>60</Height>
                      </DefaultSize>
                      <BorderColor>
                        <Argb>-16777216</Argb>
                      </BorderColor>
                      <FillColor>
                        <Argb>0</Argb>
                      </FillColor>
                      <GradientFill>true</GradientFill>
                      <GradientFillColor>
                        <Argb>0</Argb>
                      </GradientFillColor>
                    </ShapeProperties>
                    <ImplementationType>int</ImplementationType>
                    <InitialValue>0</InitialValue>
                  </anyType>
                </Types>
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>c3973bf7-9558-42fc-bc39-4b61cb608ab8</Id>
                <Instructions>
                  <Instruction>
                    <Name>Startup</Name>
                    <String />
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>662</Width>
                <Height>243</Height>
              </Size>
              <Location>
                <X>221</X>
                <Y>1072</Y>
              </Location>
              <DisplayName>SimStats</DisplayName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>10</Size>
                <Style>Regular</Style>
              </NameFont>
              <ShapeProperties>
                <DefaultSize>
                  <Width>100</Width>
                  <Height>60</Height>
                </DefaultSize>
                <BorderColor>
                  <Argb>-32768</Argb>
                </BorderColor>
                <BorderWidth>3</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <GradientFill>true</GradientFill>
                <GradientFillColor>
                  <Argb>0</Argb>
                </GradientFillColor>
                <CornerRounding>3</CornerRounding>
                <Alignment>TopCenter</Alignment>
              </ShapeProperties>
            </anyType>
            <anyType xsi:type="MethodSequence">
              <Name>NewMethodSequence1</Name>
              <Id>cd37d31b-663d-43d9-bd86-717d1c1cb0bd</Id>
              <Structure xsi:type="MethodSequenceStructure">
                <Id>ee465933-3283-4d3a-b94b-60f077497c32</Id>
                <Types />
              </Structure>
              <Text xsi:type="DP_Text">
                <Id>660c4cda-a1e4-45c5-96b3-171d9febe4e9</Id>
                <Instructions>
                  <Instruction>
                    <Name>Trigger</Name>
                    <String>return ReceiveRTP.DSP.RAIF.DIFRef != null &amp;&amp; ReceiveRTP.RTPStreamRef != null;
</String>
                  </Instruction>
                  <Instruction>
                    <Name>Transfer</Name>
                    <String>TSfromRAIF.OpRequestRef = ReceiveRTP.OpRequestRef;
TSfromRAIF.RTPStreamRef = ReceiveRTP.RTPStreamRef;</String>
                  </Instruction>
                  <Instruction>
                    <Name>Resolve</Name>
                    <String>return ReceiveRTP.DSP.RAIF.DIFRef.DSPList[0];</String>
                  </Instruction>
                </Instructions>
              </Text>
              <Size>
                <Width>65</Width>
                <Height>489</Height>
              </Size>
              <Location>
                <X>887</X>
                <Y>366</Y>
              </Location>
              <DisplayName>NewMethodSequence1</DisplayName>
              <ShowName>false</ShowName>
              <NameFont>
                <FontFamily>Segoe UI</FontFamily>
                <Size>9</Size>
                <Style>Regular</Style>
              </NameFont>
              <LineProperties>
                <BorderColor>
                  <Argb>-16777024</Argb>
                </BorderColor>
                <BorderWidth>2</BorderWidth>
                <FillColor>
                  <Argb>0</Argb>
                </FillColor>
                <Role1>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Offset>
                    <X>122</X>
                    <Y>0</Y>
                  </Offset>
                </Role1>
                <Role2>
                  <Font>
                    <FontFamily>Segoe UI</FontFamily>
                    <Size>9</Size>
                    <Style>Regular</Style>
                  </Font>
                  <Icon>..\..\Icons\arrow.gif</Icon>
                  <Offset>
                    <X>0</X>
                    <Y>75</Y>
                  </Offset>
                </Role2>
              </LineProperties>
              <Role1Id>18d4e839-a2cf-48ed-8d73-f0e06457f933</Role1Id>
              <Role2Id>99be16be-894f-446c-84d5-c350c5acc60e</Role2Id>
            </anyType>
          </Types>
        </Structure>
        <Text xsi:type="DP_Text">
          <Id>9ae5243d-e59e-4255-810d-107b9f67ca3c</Id>
          <Instructions>
            <Instruction>
              <Name>Startup</Name>
              <String>// TODO add SeedY and SeedV to the metamodel
//if (SeedU &gt; 0 &amp;&amp; SeedV &gt; 0)
//{
//	Random.Seed(SeedU, SeedV);
//}
int countOp = 0;
int countRAIF = 0;
int countXRIF = 0;
int countIRIF = 0;
int countDIF = 0;

foreach (DP_StartInstance si in Model.Simulation.StartInstances)
{
	if (si.Type == "VCSsim")
	{
		foreach (DP_StartInstance i in si.Instances) {	
		if (i.Type == "IRIF")
		{
			countIRIF = i.Count;
			foreach (DP_StartInstance ixrif in i.Instances) {	
			if (ixrif.Type == "XRIF")
			{
				countXRIF = ixrif.Count;
				break;
			}}
			break;
		}}
		foreach (DP_StartInstance j in si.Instances) {	
		if (j.Type == "Operator")
		{
			countOp = j.Count;
			break;
		}}
		foreach (DP_StartInstance iraif in si.Instances) {	
		if (iraif.Type == "RAIF")
		{
			countRAIF = iraif.Count;
			break;
		}}
		foreach (DP_StartInstance ivcs in si.Instances) {	
		if (ivcs.Type == "VCS")
		{			
			foreach (DP_StartInstance idif in ivcs.Instances) {	
			if (idif.Type == "DIF")
			{
				countDIF = idif.Count;
				break;
			}}
			break;
		}}
	}
}

int countRadio = countXRIF * countIRIF;
Radio radio = null;
for (int i = 0; i&lt;countRadio; i++)
{
	radio = Create("Radio") as Radio;
	radio.RadioId = i;
}
DomainProAnalyst.Instance.Report("Created Radios: "+countRadio);

bool hasBackupChannels = HasBackupChannels;
int multi = hasBackupChannels ? 2 : 1; 
int channelsPerGroup = ChannelPerGroup;
int offsetDiff = Math.Max(1, channelsPerGroup*multi);

int cgCount = (int)Math.Floor(countRadio/(double)offsetDiff);
ChannelGroupConfig cgc = null;
for (int i = 0; i&lt;cgCount; i++)
{
	cgc = Create("ChannelGroupConfig") as ChannelGroupConfig;
	int offset = i*offsetDiff;
	//cgc.InitFreq=offset;
	for (int j = 0; j&lt;channelsPerGroup; j++)
	{
		cgc.MainChannels.Add(offset+j);
	}	
	if (hasBackupChannels)
	{
		for (int j = 0; j&lt;channelsPerGroup; j++)
		{
			cgc.BackupChannels.Add(offset+j+channelsPerGroup);
		}
	}
}
DomainProAnalyst.Instance.Report("ChannelGroupConfig completed");

int groupsPerOperator = GroupsPerOperator;

// Assign ChannelGroups to Operators
for (int op = 0; op &lt; countOp; op++)
{
	List&lt;int&gt; cgcList = new List&lt;int&gt;();
	cgcList.Add(op%cgCount);
	// some more random groups
	int addGroups = groupsPerOperator - 1;
	for (int tryAdd = 0; tryAdd &lt; addGroups; tryAdd++)
	{
		int pos = (int)Math.Floor(Random.Uniform()*cgCount);
		if (!cgcList.Contains(pos))
			cgcList.Add(pos);
	}
	ChannelGroupAssignment.Add(cgcList);
}
DomainProAnalyst.Instance.Report("ChannelGroup Assignment completed");

// Create DIFs for each Operator and RAIF
countDIF = countOp+countRAIF;
VCS vcs = Create("VCS") as VCS;
for (int i = 0; i &lt; countDIF; i++)
{
	Simulation.VCSsimContext.VCSContext.DIF dif = vcs.Create("DIF") as Simulation.VCSsimContext.VCSContext.DIF;
	Simulation.VCSsimContext.VCSContext.DIFContext.DIF_APP difApp = dif.Create("DIF_APP") as Simulation.VCSsimContext.VCSContext.DIFContext.DIF_APP;
	Simulation.VCSsimContext.VCSContext.DIFContext.DSP dsp = dif.Create("DSP") as Simulation.VCSsimContext.VCSContext.DIFContext.DSP;
}
DomainProAnalyst.Instance.Report("Created in a single VCS: DIFs: "+countDIF);






</String>
            </Instruction>
          </Instructions>
        </Text>
        <Size>
          <Width>878</Width>
          <Height>573</Height>
        </Size>
        <Location>
          <X>29</X>
          <Y>17</Y>
        </Location>
        <DisplayName>VCSsim</DisplayName>
        <NameFont>
          <FontFamily>Segoe UI</FontFamily>
          <Size>9</Size>
          <Style>Regular</Style>
        </NameFont>
        <ShapeProperties>
          <DefaultSize>
            <Width>100</Width>
            <Height>60</Height>
          </DefaultSize>
          <BorderColor>
            <Argb>-16777216</Argb>
          </BorderColor>
          <BorderWidth>2</BorderWidth>
          <FillColor>
            <Argb>0</Argb>
          </FillColor>
          <GradientFill>true</GradientFill>
          <GradientFillColor>
            <Argb>0</Argb>
          </GradientFillColor>
        </ShapeProperties>
      </anyType>
    </Types>
  </Structure>
  <Text xsi:type="DP_Text">
    <Id>2dfbd9fd-6a44-4d64-9993-7d6560768480</Id>
    <Instructions>
      <Instruction>
        <Name>Initialize</Name>
        <String />
      </Instruction>
    </Instructions>
  </Text>
</Sim4SysMLModel>